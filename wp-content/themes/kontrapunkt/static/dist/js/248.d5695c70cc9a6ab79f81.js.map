{"version":3,"file":"248.d5695c70cc9a6ab79f81.js","mappings":"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","sources":["webpack://static_base/./node_modules/lightgallery/lightgallery.es5.js"],"sourcesContent":["/*!\n * lightgallery | 2.7.2 | September 20th 2023\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar lightGalleryCoreSettings = {\r\n    mode: 'lg-slide',\r\n    easing: 'ease',\r\n    speed: 400,\r\n    licenseKey: '0000-0000-000-0000',\r\n    height: '100%',\r\n    width: '100%',\r\n    addClass: '',\r\n    startClass: 'lg-start-zoom',\r\n    backdropDuration: 300,\r\n    container: '',\r\n    startAnimationDuration: 400,\r\n    zoomFromOrigin: true,\r\n    hideBarsDelay: 0,\r\n    showBarsAfter: 10000,\r\n    slideDelay: 0,\r\n    supportLegacyBrowser: true,\r\n    allowMediaOverlap: false,\r\n    videoMaxSize: '1280-720',\r\n    loadYouTubePoster: true,\r\n    defaultCaptionHeight: 0,\r\n    ariaLabelledby: '',\r\n    ariaDescribedby: '',\r\n    resetScrollPosition: true,\r\n    hideScrollbar: false,\r\n    closable: true,\r\n    swipeToClose: true,\r\n    closeOnTap: true,\r\n    showCloseIcon: true,\r\n    showMaximizeIcon: false,\r\n    loop: true,\r\n    escKey: true,\r\n    keyPress: true,\r\n    trapFocus: true,\r\n    controls: true,\r\n    slideEndAnimation: true,\r\n    hideControlOnEnd: false,\r\n    mousewheel: false,\r\n    getCaptionFromTitleOrAlt: true,\r\n    appendSubHtmlTo: '.lg-sub-html',\r\n    subHtmlSelectorRelative: false,\r\n    preload: 2,\r\n    numberOfSlideItemsInDom: 10,\r\n    selector: '',\r\n    selectWithin: '',\r\n    nextHtml: '',\r\n    prevHtml: '',\r\n    index: 0,\r\n    iframeWidth: '100%',\r\n    iframeHeight: '100%',\r\n    iframeMaxWidth: '100%',\r\n    iframeMaxHeight: '100%',\r\n    download: true,\r\n    counter: true,\r\n    appendCounterTo: '.lg-toolbar',\r\n    swipeThreshold: 50,\r\n    enableSwipe: true,\r\n    enableDrag: true,\r\n    dynamic: false,\r\n    dynamicEl: [],\r\n    extraProps: [],\r\n    exThumbImage: '',\r\n    isMobile: undefined,\r\n    mobileSettings: {\r\n        controls: false,\r\n        showCloseIcon: false,\r\n        download: false,\r\n    },\r\n    plugins: [],\r\n    strings: {\r\n        closeGallery: 'Close gallery',\r\n        toggleMaximize: 'Toggle maximize',\r\n        previousSlide: 'Previous slide',\r\n        nextSlide: 'Next slide',\r\n        download: 'Download',\r\n        playVideo: 'Play video',\r\n        mediaLoadingFailed: 'Oops... Failed to load content...',\r\n    },\r\n};\n\nfunction initLgPolyfills() {\r\n    (function () {\r\n        if (typeof window.CustomEvent === 'function')\r\n            return false;\r\n        function CustomEvent(event, params) {\r\n            params = params || {\r\n                bubbles: false,\r\n                cancelable: false,\r\n                detail: null,\r\n            };\r\n            var evt = document.createEvent('CustomEvent');\r\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n            return evt;\r\n        }\r\n        window.CustomEvent = CustomEvent;\r\n    })();\r\n    (function () {\r\n        if (!Element.prototype.matches) {\r\n            Element.prototype.matches =\r\n                Element.prototype.msMatchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector;\r\n        }\r\n    })();\r\n}\r\nvar lgQuery = /** @class */ (function () {\r\n    function lgQuery(selector) {\r\n        this.cssVenderPrefixes = [\r\n            'TransitionDuration',\r\n            'TransitionTimingFunction',\r\n            'Transform',\r\n            'Transition',\r\n        ];\r\n        this.selector = this._getSelector(selector);\r\n        this.firstElement = this._getFirstEl();\r\n        return this;\r\n    }\r\n    lgQuery.generateUUID = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    lgQuery.prototype._getSelector = function (selector, context) {\r\n        if (context === void 0) { context = document; }\r\n        if (typeof selector !== 'string') {\r\n            return selector;\r\n        }\r\n        context = context || document;\r\n        var fl = selector.substring(0, 1);\r\n        if (fl === '#') {\r\n            return context.querySelector(selector);\r\n        }\r\n        else {\r\n            return context.querySelectorAll(selector);\r\n        }\r\n    };\r\n    lgQuery.prototype._each = function (func) {\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        if (this.selector.length !== undefined) {\r\n            [].forEach.call(this.selector, func);\r\n        }\r\n        else {\r\n            func(this.selector, 0);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype._setCssVendorPrefix = function (el, cssProperty, value) {\r\n        // prettier-ignore\r\n        var property = cssProperty.replace(/-([a-z])/gi, function (s, group1) {\r\n            return group1.toUpperCase();\r\n        });\r\n        if (this.cssVenderPrefixes.indexOf(property) !== -1) {\r\n            el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;\r\n            el.style['webkit' + property] = value;\r\n            el.style['moz' + property] = value;\r\n            el.style['ms' + property] = value;\r\n            el.style['o' + property] = value;\r\n        }\r\n        else {\r\n            el.style[property] = value;\r\n        }\r\n    };\r\n    lgQuery.prototype._getFirstEl = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return this.selector[0];\r\n        }\r\n        else {\r\n            return this.selector;\r\n        }\r\n    };\r\n    lgQuery.prototype.isEventMatched = function (event, eventName) {\r\n        var eventNamespace = eventName.split('.');\r\n        return event\r\n            .split('.')\r\n            .filter(function (e) { return e; })\r\n            .every(function (e) {\r\n            return eventNamespace.indexOf(e) !== -1;\r\n        });\r\n    };\r\n    lgQuery.prototype.attr = function (attr, value) {\r\n        if (value === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.getAttribute(attr);\r\n        }\r\n        this._each(function (el) {\r\n            el.setAttribute(attr, value);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.find = function (selector) {\r\n        return $LG(this._getSelector(selector, this.selector));\r\n    };\r\n    lgQuery.prototype.first = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return $LG(this.selector[0]);\r\n        }\r\n        else {\r\n            return $LG(this.selector);\r\n        }\r\n    };\r\n    lgQuery.prototype.eq = function (index) {\r\n        return $LG(this.selector[index]);\r\n    };\r\n    lgQuery.prototype.parent = function () {\r\n        return $LG(this.selector.parentElement);\r\n    };\r\n    lgQuery.prototype.get = function () {\r\n        return this._getFirstEl();\r\n    };\r\n    lgQuery.prototype.removeAttr = function (attributes) {\r\n        var attrs = attributes.split(' ');\r\n        this._each(function (el) {\r\n            attrs.forEach(function (attr) { return el.removeAttribute(attr); });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.wrap = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var wrapper = document.createElement('div');\r\n        wrapper.className = className;\r\n        this.firstElement.parentNode.insertBefore(wrapper, this.firstElement);\r\n        this.firstElement.parentNode.removeChild(this.firstElement);\r\n        wrapper.appendChild(this.firstElement);\r\n        return this;\r\n    };\r\n    lgQuery.prototype.addClass = function (classNames) {\r\n        if (classNames === void 0) { classNames = ''; }\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                if (className) {\r\n                    el.classList.add(className);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.removeClass = function (classNames) {\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                if (className) {\r\n                    el.classList.remove(className);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.hasClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.classList.contains(className);\r\n    };\r\n    lgQuery.prototype.hasAttribute = function (attribute) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.hasAttribute(attribute);\r\n    };\r\n    lgQuery.prototype.toggleClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        if (this.hasClass(className)) {\r\n            this.removeClass(className);\r\n        }\r\n        else {\r\n            this.addClass(className);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype.css = function (property, value) {\r\n        var _this = this;\r\n        this._each(function (el) {\r\n            _this._setCssVendorPrefix(el, property, value);\r\n        });\r\n        return this;\r\n    };\r\n    // Need to pass separate namespaces for separate elements\r\n    lgQuery.prototype.on = function (events, listener) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        events.split(' ').forEach(function (event) {\r\n            if (!Array.isArray(lgQuery.eventListeners[event])) {\r\n                lgQuery.eventListeners[event] = [];\r\n            }\r\n            lgQuery.eventListeners[event].push(listener);\r\n            _this.selector.addEventListener(event.split('.')[0], listener);\r\n        });\r\n        return this;\r\n    };\r\n    // @todo - test this\r\n    lgQuery.prototype.once = function (event, listener) {\r\n        var _this = this;\r\n        this.on(event, function () {\r\n            _this.off(event);\r\n            listener(event);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.off = function (event) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        Object.keys(lgQuery.eventListeners).forEach(function (eventName) {\r\n            if (_this.isEventMatched(event, eventName)) {\r\n                lgQuery.eventListeners[eventName].forEach(function (listener) {\r\n                    _this.selector.removeEventListener(eventName.split('.')[0], listener);\r\n                });\r\n                lgQuery.eventListeners[eventName] = [];\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.trigger = function (event, detail) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var customEvent = new CustomEvent(event.split('.')[0], {\r\n            detail: detail || null,\r\n        });\r\n        this.firstElement.dispatchEvent(customEvent);\r\n        return this;\r\n    };\r\n    // Does not support IE\r\n    lgQuery.prototype.load = function (url) {\r\n        var _this = this;\r\n        fetch(url)\r\n            .then(function (res) { return res.text(); })\r\n            .then(function (html) {\r\n            _this.selector.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.html = function (html) {\r\n        if (html === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.innerHTML;\r\n        }\r\n        this._each(function (el) {\r\n            el.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.append = function (html) {\r\n        this._each(function (el) {\r\n            if (typeof html === 'string') {\r\n                el.insertAdjacentHTML('beforeend', html);\r\n            }\r\n            else {\r\n                el.appendChild(html);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.prepend = function (html) {\r\n        this._each(function (el) {\r\n            el.insertAdjacentHTML('afterbegin', html);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.remove = function () {\r\n        this._each(function (el) {\r\n            el.parentNode.removeChild(el);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.empty = function () {\r\n        this._each(function (el) {\r\n            el.innerHTML = '';\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.scrollTop = function (scrollTop) {\r\n        if (scrollTop !== undefined) {\r\n            document.body.scrollTop = scrollTop;\r\n            document.documentElement.scrollTop = scrollTop;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageYOffset ||\r\n                document.documentElement.scrollTop ||\r\n                document.body.scrollTop ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.scrollLeft = function (scrollLeft) {\r\n        if (scrollLeft !== undefined) {\r\n            document.body.scrollLeft = scrollLeft;\r\n            document.documentElement.scrollLeft = scrollLeft;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageXOffset ||\r\n                document.documentElement.scrollLeft ||\r\n                document.body.scrollLeft ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.offset = function () {\r\n        if (!this.firstElement) {\r\n            return {\r\n                left: 0,\r\n                top: 0,\r\n            };\r\n        }\r\n        var rect = this.firstElement.getBoundingClientRect();\r\n        var bodyMarginLeft = $LG('body').style().marginLeft;\r\n        // Minus body margin - https://stackoverflow.com/questions/30711548/is-getboundingclientrect-left-returning-a-wrong-value\r\n        return {\r\n            left: rect.left - parseFloat(bodyMarginLeft) + this.scrollLeft(),\r\n            top: rect.top + this.scrollTop(),\r\n        };\r\n    };\r\n    lgQuery.prototype.style = function () {\r\n        if (!this.firstElement) {\r\n            return {};\r\n        }\r\n        return (this.firstElement.currentStyle ||\r\n            window.getComputedStyle(this.firstElement));\r\n    };\r\n    // Width without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.width = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientWidth -\r\n            parseFloat(style.paddingLeft) -\r\n            parseFloat(style.paddingRight));\r\n    };\r\n    // Height without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.height = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientHeight -\r\n            parseFloat(style.paddingTop) -\r\n            parseFloat(style.paddingBottom));\r\n    };\r\n    lgQuery.eventListeners = {};\r\n    return lgQuery;\r\n}());\r\nfunction $LG(selector) {\r\n    initLgPolyfills();\r\n    return new lgQuery(selector);\r\n}\n\nvar defaultDynamicOptions = [\r\n    'src',\r\n    'sources',\r\n    'subHtml',\r\n    'subHtmlUrl',\r\n    'html',\r\n    'video',\r\n    'poster',\r\n    'slideName',\r\n    'responsive',\r\n    'srcset',\r\n    'sizes',\r\n    'iframe',\r\n    'downloadUrl',\r\n    'download',\r\n    'width',\r\n    'facebookShareUrl',\r\n    'tweetText',\r\n    'iframeTitle',\r\n    'twitterShareUrl',\r\n    'pinterestShareUrl',\r\n    'pinterestText',\r\n    'fbHtml',\r\n    'disqusIdentifier',\r\n    'disqusUrl',\r\n];\r\n// Convert html data-attribute to camalcase\r\nfunction convertToData(attr) {\r\n    // FInd a way for lgsize\r\n    if (attr === 'href') {\r\n        return 'src';\r\n    }\r\n    attr = attr.replace('data-', '');\r\n    attr = attr.charAt(0).toLowerCase() + attr.slice(1);\r\n    attr = attr.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\r\n    return attr;\r\n}\r\nvar utils = {\r\n    /**\r\n     * get possible width and height from the lgSize attribute. Used for ZoomFromOrigin option\r\n     */\r\n    getSize: function (el, container, spacing, defaultLgSize) {\r\n        if (spacing === void 0) { spacing = 0; }\r\n        var LGel = $LG(el);\r\n        var lgSize = LGel.attr('data-lg-size') || defaultLgSize;\r\n        if (!lgSize) {\r\n            return;\r\n        }\r\n        var isResponsiveSizes = lgSize.split(',');\r\n        // if at-least two viewport sizes are available\r\n        if (isResponsiveSizes[1]) {\r\n            var wWidth = window.innerWidth;\r\n            for (var i = 0; i < isResponsiveSizes.length; i++) {\r\n                var size_1 = isResponsiveSizes[i];\r\n                var responsiveWidth = parseInt(size_1.split('-')[2], 10);\r\n                if (responsiveWidth > wWidth) {\r\n                    lgSize = size_1;\r\n                    break;\r\n                }\r\n                // take last item as last option\r\n                if (i === isResponsiveSizes.length - 1) {\r\n                    lgSize = size_1;\r\n                }\r\n            }\r\n        }\r\n        var size = lgSize.split('-');\r\n        var width = parseInt(size[0], 10);\r\n        var height = parseInt(size[1], 10);\r\n        var cWidth = container.width();\r\n        var cHeight = container.height() - spacing;\r\n        var maxWidth = Math.min(cWidth, width);\r\n        var maxHeight = Math.min(cHeight, height);\r\n        var ratio = Math.min(maxWidth / width, maxHeight / height);\r\n        return { width: width * ratio, height: height * ratio };\r\n    },\r\n    /**\r\n     * @desc Get transform value based on the imageSize. Used for ZoomFromOrigin option\r\n     * @param {jQuery Element}\r\n     * @returns {String} Transform CSS string\r\n     */\r\n    getTransform: function (el, container, top, bottom, imageSize) {\r\n        if (!imageSize) {\r\n            return;\r\n        }\r\n        var LGel = $LG(el).find('img').first();\r\n        if (!LGel.get()) {\r\n            return;\r\n        }\r\n        var containerRect = container.get().getBoundingClientRect();\r\n        var wWidth = containerRect.width;\r\n        // using innerWidth to include mobile safari bottom bar\r\n        var wHeight = container.height() - (top + bottom);\r\n        var elWidth = LGel.width();\r\n        var elHeight = LGel.height();\r\n        var elStyle = LGel.style();\r\n        var x = (wWidth - elWidth) / 2 -\r\n            LGel.offset().left +\r\n            (parseFloat(elStyle.paddingLeft) || 0) +\r\n            (parseFloat(elStyle.borderLeft) || 0) +\r\n            $LG(window).scrollLeft() +\r\n            containerRect.left;\r\n        var y = (wHeight - elHeight) / 2 -\r\n            LGel.offset().top +\r\n            (parseFloat(elStyle.paddingTop) || 0) +\r\n            (parseFloat(elStyle.borderTop) || 0) +\r\n            $LG(window).scrollTop() +\r\n            top;\r\n        var scX = elWidth / imageSize.width;\r\n        var scY = elHeight / imageSize.height;\r\n        var transform = 'translate3d(' +\r\n            (x *= -1) +\r\n            'px, ' +\r\n            (y *= -1) +\r\n            'px, 0) scale3d(' +\r\n            scX +\r\n            ', ' +\r\n            scY +\r\n            ', 1)';\r\n        return transform;\r\n    },\r\n    getIframeMarkup: function (iframeWidth, iframeHeight, iframeMaxWidth, iframeMaxHeight, src, iframeTitle) {\r\n        var title = iframeTitle ? 'title=\"' + iframeTitle + '\"' : '';\r\n        return \"<div class=\\\"lg-video-cont lg-has-iframe\\\" style=\\\"width:\" + iframeWidth + \"; max-width:\" + iframeMaxWidth + \"; height: \" + iframeHeight + \"; max-height:\" + iframeMaxHeight + \"\\\">\\n                    <iframe class=\\\"lg-object\\\" frameborder=\\\"0\\\" \" + title + \" src=\\\"\" + src + \"\\\"  allowfullscreen=\\\"true\\\"></iframe>\\n                </div>\";\r\n    },\r\n    getImgMarkup: function (index, src, altAttr, srcset, sizes, sources) {\r\n        var srcsetAttr = srcset ? \"srcset=\\\"\" + srcset + \"\\\"\" : '';\r\n        var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\"\" : '';\r\n        var imgMarkup = \"<img \" + altAttr + \" \" + srcsetAttr + \"  \" + sizesAttr + \" class=\\\"lg-object lg-image\\\" data-index=\\\"\" + index + \"\\\" src=\\\"\" + src + \"\\\" />\";\r\n        var sourceTag = '';\r\n        if (sources) {\r\n            var sourceObj = typeof sources === 'string' ? JSON.parse(sources) : sources;\r\n            sourceTag = sourceObj.map(function (source) {\r\n                var attrs = '';\r\n                Object.keys(source).forEach(function (key) {\r\n                    // Do not remove the first space as it is required to separate the attributes\r\n                    attrs += \" \" + key + \"=\\\"\" + source[key] + \"\\\"\";\r\n                });\r\n                return \"<source \" + attrs + \"></source>\";\r\n            });\r\n        }\r\n        return \"\" + sourceTag + imgMarkup;\r\n    },\r\n    // Get src from responsive src\r\n    getResponsiveSrc: function (srcItms) {\r\n        var rsWidth = [];\r\n        var rsSrc = [];\r\n        var src = '';\r\n        for (var i = 0; i < srcItms.length; i++) {\r\n            var _src = srcItms[i].split(' ');\r\n            // Manage empty space\r\n            if (_src[0] === '') {\r\n                _src.splice(0, 1);\r\n            }\r\n            rsSrc.push(_src[0]);\r\n            rsWidth.push(_src[1]);\r\n        }\r\n        var wWidth = window.innerWidth;\r\n        for (var j = 0; j < rsWidth.length; j++) {\r\n            if (parseInt(rsWidth[j], 10) > wWidth) {\r\n                src = rsSrc[j];\r\n                break;\r\n            }\r\n        }\r\n        return src;\r\n    },\r\n    isImageLoaded: function (img) {\r\n        if (!img)\r\n            return false;\r\n        // During the onload event, IE correctly identifies any images that\r\n        // werent downloaded as not complete. Others should too. Gecko-based\r\n        // browsers act like NS4 in that they report this incorrectly.\r\n        if (!img.complete) {\r\n            return false;\r\n        }\r\n        // However, they do have two very useful properties: naturalWidth and\r\n        // naturalHeight. These give the true size of the image. If it failed\r\n        // to load, either of these should be zero.\r\n        if (img.naturalWidth === 0) {\r\n            return false;\r\n        }\r\n        // No other way of checking: assume its ok.\r\n        return true;\r\n    },\r\n    getVideoPosterMarkup: function (_poster, dummyImg, videoContStyle, playVideoString, _isVideo) {\r\n        var videoClass = '';\r\n        if (_isVideo && _isVideo.youtube) {\r\n            videoClass = 'lg-has-youtube';\r\n        }\r\n        else if (_isVideo && _isVideo.vimeo) {\r\n            videoClass = 'lg-has-vimeo';\r\n        }\r\n        else {\r\n            videoClass = 'lg-has-html5';\r\n        }\r\n        return \"<div class=\\\"lg-video-cont \" + videoClass + \"\\\" style=\\\"\" + videoContStyle + \"\\\">\\n                <div class=\\\"lg-video-play-button\\\">\\n                <svg\\n                    viewBox=\\\"0 0 20 20\\\"\\n                    preserveAspectRatio=\\\"xMidYMid\\\"\\n                    focusable=\\\"false\\\"\\n                    aria-labelledby=\\\"\" + playVideoString + \"\\\"\\n                    role=\\\"img\\\"\\n                    class=\\\"lg-video-play-icon\\\"\\n                >\\n                    <title>\" + playVideoString + \"</title>\\n                    <polygon class=\\\"lg-video-play-icon-inner\\\" points=\\\"1,0 20,10 1,20\\\"></polygon>\\n                </svg>\\n                <svg class=\\\"lg-video-play-icon-bg\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle></svg>\\n                <svg class=\\\"lg-video-play-icon-circle\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle>\\n                </svg>\\n            </div>\\n            \" + (dummyImg || '') + \"\\n            <img class=\\\"lg-object lg-video-poster\\\" src=\\\"\" + _poster + \"\\\" />\\n        </div>\";\r\n    },\r\n    getFocusableElements: function (container) {\r\n        var elements = container.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])');\r\n        var visibleElements = [].filter.call(elements, function (element) {\r\n            var style = window.getComputedStyle(element);\r\n            return style.display !== 'none' && style.visibility !== 'hidden';\r\n        });\r\n        return visibleElements;\r\n    },\r\n    /**\r\n     * @desc Create dynamic elements array from gallery items when dynamic option is false\r\n     * It helps to avoid frequent DOM interaction\r\n     * and avoid multiple checks for dynamic elments\r\n     *\r\n     * @returns {Array} dynamicEl\r\n     */\r\n    getDynamicOptions: function (items, extraProps, getCaptionFromTitleOrAlt, exThumbImage) {\r\n        var dynamicElements = [];\r\n        var availableDynamicOptions = __spreadArrays(defaultDynamicOptions, extraProps);\r\n        [].forEach.call(items, function (item) {\r\n            var dynamicEl = {};\r\n            for (var i = 0; i < item.attributes.length; i++) {\r\n                var attr = item.attributes[i];\r\n                if (attr.specified) {\r\n                    var dynamicAttr = convertToData(attr.name);\r\n                    var label = '';\r\n                    if (availableDynamicOptions.indexOf(dynamicAttr) > -1) {\r\n                        label = dynamicAttr;\r\n                    }\r\n                    if (label) {\r\n                        dynamicEl[label] = attr.value;\r\n                    }\r\n                }\r\n            }\r\n            var currentItem = $LG(item);\r\n            var alt = currentItem.find('img').first().attr('alt');\r\n            var title = currentItem.attr('title');\r\n            var thumb = exThumbImage\r\n                ? currentItem.attr(exThumbImage)\r\n                : currentItem.find('img').first().attr('src');\r\n            dynamicEl.thumb = thumb;\r\n            if (getCaptionFromTitleOrAlt && !dynamicEl.subHtml) {\r\n                dynamicEl.subHtml = title || alt || '';\r\n            }\r\n            dynamicEl.alt = alt || title || '';\r\n            dynamicElements.push(dynamicEl);\r\n        });\r\n        return dynamicElements;\r\n    },\r\n    isMobile: function () {\r\n        return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n    },\r\n    /**\r\n     * @desc Check the given src is video\r\n     * @param {String} src\r\n     * @return {Object} video type\r\n     * Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\r\n     *\r\n     * @todo - this information can be moved to dynamicEl to avoid frequent calls\r\n     */\r\n    isVideo: function (src, isHTML5VIdeo, index) {\r\n        if (!src) {\r\n            if (isHTML5VIdeo) {\r\n                return {\r\n                    html5: true,\r\n                };\r\n            }\r\n            else {\r\n                console.error('lightGallery :- data-src is not provided on slide item ' +\r\n                    (index + 1) +\r\n                    '. Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/');\r\n                return;\r\n            }\r\n        }\r\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)([\\&|?][\\S]*)*/i);\r\n        var vimeo = src.match(/\\/\\/(?:www\\.)?(?:player\\.)?vimeo.com\\/(?:video\\/)?([0-9a-z\\-_]+)(.*)?/i);\r\n        var wistia = src.match(/https?:\\/\\/(.+)?(wistia\\.com|wi\\.st)\\/(medias|embed)\\/([0-9a-z\\-_]+)(.*)/);\r\n        if (youtube) {\r\n            return {\r\n                youtube: youtube,\r\n            };\r\n        }\r\n        else if (vimeo) {\r\n            return {\r\n                vimeo: vimeo,\r\n            };\r\n        }\r\n        else if (wistia) {\r\n            return {\r\n                wistia: wistia,\r\n            };\r\n        }\r\n    },\r\n};\n\n// @ref - https://stackoverflow.com/questions/3971841/how-to-resize-images-proportionally-keeping-the-aspect-ratio\r\n// @ref - https://2ality.com/2017/04/setting-up-multi-platform-packages.html\r\n// Unique id for each gallery\r\nvar lgId = 0;\r\nvar LightGallery = /** @class */ (function () {\r\n    function LightGallery(element, options) {\r\n        this.lgOpened = false;\r\n        this.index = 0;\r\n        // lightGallery modules\r\n        this.plugins = [];\r\n        // false when lightGallery load first slide content;\r\n        this.lGalleryOn = false;\r\n        // True when a slide animation is in progress\r\n        this.lgBusy = false;\r\n        this.currentItemsInDom = [];\r\n        // Scroll top value before lightGallery is opened\r\n        this.prevScrollTop = 0;\r\n        this.bodyPaddingRight = 0;\r\n        this.isDummyImageRemoved = false;\r\n        this.dragOrSwipeEnabled = false;\r\n        this.mediaContainerPosition = {\r\n            top: 0,\r\n            bottom: 0,\r\n        };\r\n        if (!element) {\r\n            return this;\r\n        }\r\n        lgId++;\r\n        this.lgId = lgId;\r\n        this.el = element;\r\n        this.LGel = $LG(element);\r\n        this.generateSettings(options);\r\n        this.buildModules();\r\n        // When using dynamic mode, ensure dynamicEl is an array\r\n        if (this.settings.dynamic &&\r\n            this.settings.dynamicEl !== undefined &&\r\n            !Array.isArray(this.settings.dynamicEl)) {\r\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\r\n        }\r\n        this.galleryItems = this.getItems();\r\n        this.normalizeSettings();\r\n        // Gallery items\r\n        this.init();\r\n        this.validateLicense();\r\n        return this;\r\n    }\r\n    LightGallery.prototype.generateSettings = function (options) {\r\n        // lightGallery settings\r\n        this.settings = __assign(__assign({}, lightGalleryCoreSettings), options);\r\n        if (this.settings.isMobile &&\r\n            typeof this.settings.isMobile === 'function'\r\n            ? this.settings.isMobile()\r\n            : utils.isMobile()) {\r\n            var mobileSettings = __assign(__assign({}, this.settings.mobileSettings), this.settings.mobileSettings);\r\n            this.settings = __assign(__assign({}, this.settings), mobileSettings);\r\n        }\r\n    };\r\n    LightGallery.prototype.normalizeSettings = function () {\r\n        if (this.settings.slideEndAnimation) {\r\n            this.settings.hideControlOnEnd = false;\r\n        }\r\n        if (!this.settings.closable) {\r\n            this.settings.swipeToClose = false;\r\n        }\r\n        // And reset it on close to get the correct value next time\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        // At the moment, Zoom from image doesn't support dynamic options\r\n        // @todo add zoomFromOrigin support for dynamic images\r\n        if (this.settings.dynamic) {\r\n            this.zoomFromOrigin = false;\r\n        }\r\n        if (!this.settings.container) {\r\n            this.settings.container = document.body;\r\n        }\r\n        // settings.preload should not be grater than $item.length\r\n        this.settings.preload = Math.min(this.settings.preload, this.galleryItems.length);\r\n    };\r\n    LightGallery.prototype.init = function () {\r\n        var _this = this;\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.buildStructure();\r\n        this.LGel.trigger(lGEvents.init, {\r\n            instance: this,\r\n        });\r\n        if (this.settings.keyPress) {\r\n            this.keyPress();\r\n        }\r\n        setTimeout(function () {\r\n            _this.enableDrag();\r\n            _this.enableSwipe();\r\n            _this.triggerPosterClick();\r\n        }, 50);\r\n        this.arrow();\r\n        if (this.settings.mousewheel) {\r\n            this.mousewheel();\r\n        }\r\n        if (!this.settings.dynamic) {\r\n            this.openGalleryOnItemClick();\r\n        }\r\n    };\r\n    LightGallery.prototype.openGalleryOnItemClick = function () {\r\n        var _this = this;\r\n        var _loop_1 = function (index) {\r\n            var element = this_1.items[index];\r\n            var $element = $LG(element);\r\n            // Using different namespace for click because click event should not unbind if selector is same object('this')\r\n            // @todo manage all event listners - should have namespace that represent element\r\n            var uuid = lgQuery.generateUUID();\r\n            $element\r\n                .attr('data-lg-id', uuid)\r\n                .on(\"click.lgcustom-item-\" + uuid, function (e) {\r\n                e.preventDefault();\r\n                var currentItemIndex = _this.settings.index || index;\r\n                _this.openGallery(currentItemIndex, element);\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        // Using for loop instead of using bubbling as the items can be any html element.\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            _loop_1(index);\r\n        }\r\n    };\r\n    /**\r\n     * Module constructor\r\n     * Modules are build incrementally.\r\n     * Gallery should be opened only once all the modules are initialized.\r\n     * use moduleBuildTimeout to make sure this\r\n     */\r\n    LightGallery.prototype.buildModules = function () {\r\n        var _this = this;\r\n        this.settings.plugins.forEach(function (plugin) {\r\n            _this.plugins.push(new plugin(_this, $LG));\r\n        });\r\n    };\r\n    LightGallery.prototype.validateLicense = function () {\r\n        if (!this.settings.licenseKey) {\r\n            console.error('Please provide a valid license key');\r\n        }\r\n        else if (this.settings.licenseKey === '0000-0000-000-0000') {\r\n            console.warn(\"lightGallery: \" + this.settings.licenseKey + \" license key is not valid for production use\");\r\n        }\r\n    };\r\n    LightGallery.prototype.getSlideItem = function (index) {\r\n        return $LG(this.getSlideItemId(index));\r\n    };\r\n    LightGallery.prototype.getSlideItemId = function (index) {\r\n        return \"#lg-item-\" + this.lgId + \"-\" + index;\r\n    };\r\n    LightGallery.prototype.getIdName = function (id) {\r\n        return id + \"-\" + this.lgId;\r\n    };\r\n    LightGallery.prototype.getElementById = function (id) {\r\n        return $LG(\"#\" + this.getIdName(id));\r\n    };\r\n    LightGallery.prototype.manageSingleSlideClassName = function () {\r\n        if (this.galleryItems.length < 2) {\r\n            this.outer.addClass('lg-single-item');\r\n        }\r\n        else {\r\n            this.outer.removeClass('lg-single-item');\r\n        }\r\n    };\r\n    LightGallery.prototype.buildStructure = function () {\r\n        var _this = this;\r\n        var container = this.$container && this.$container.get();\r\n        if (container) {\r\n            return;\r\n        }\r\n        var controls = '';\r\n        var subHtmlCont = '';\r\n        // Create controls\r\n        if (this.settings.controls) {\r\n            controls = \"<button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-prev') + \"\\\" aria-label=\\\"\" + this.settings.strings['previousSlide'] + \"\\\" class=\\\"lg-prev lg-icon\\\"> \" + this.settings.prevHtml + \" </button>\\n                <button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-next') + \"\\\" aria-label=\\\"\" + this.settings.strings['nextSlide'] + \"\\\" class=\\\"lg-next lg-icon\\\"> \" + this.settings.nextHtml + \" </button>\";\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            subHtmlCont =\r\n                '<div class=\"lg-sub-html\" role=\"status\" aria-live=\"polite\"></div>';\r\n        }\r\n        var addClasses = '';\r\n        if (this.settings.allowMediaOverlap) {\r\n            // Do not remove space before last single quote\r\n            addClasses += 'lg-media-overlap ';\r\n        }\r\n        var ariaLabelledby = this.settings.ariaLabelledby\r\n            ? 'aria-labelledby=\"' + this.settings.ariaLabelledby + '\"'\r\n            : '';\r\n        var ariaDescribedby = this.settings.ariaDescribedby\r\n            ? 'aria-describedby=\"' + this.settings.ariaDescribedby + '\"'\r\n            : '';\r\n        var containerClassName = \"lg-container \" + this.settings.addClass + \" \" + (document.body !== this.settings.container ? 'lg-inline' : '');\r\n        var closeIcon = this.settings.closable && this.settings.showCloseIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.strings['closeGallery'] + \"\\\" id=\\\"\" + this.getIdName('lg-close') + \"\\\" class=\\\"lg-close lg-icon\\\"></button>\"\r\n            : '';\r\n        var maximizeIcon = this.settings.showMaximizeIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.strings['toggleMaximize'] + \"\\\" id=\\\"\" + this.getIdName('lg-maximize') + \"\\\" class=\\\"lg-maximize lg-icon\\\"></button>\"\r\n            : '';\r\n        var template = \"\\n        <div class=\\\"\" + containerClassName + \"\\\" id=\\\"\" + this.getIdName('lg-container') + \"\\\" tabindex=\\\"-1\\\" aria-modal=\\\"true\\\" \" + ariaLabelledby + \" \" + ariaDescribedby + \" role=\\\"dialog\\\"\\n        >\\n            <div id=\\\"\" + this.getIdName('lg-backdrop') + \"\\\" class=\\\"lg-backdrop\\\"></div>\\n\\n            <div id=\\\"\" + this.getIdName('lg-outer') + \"\\\" class=\\\"lg-outer lg-use-css3 lg-css3 lg-hide-items \" + addClasses + \" \\\">\\n\\n              <div id=\\\"\" + this.getIdName('lg-content') + \"\\\" class=\\\"lg-content\\\">\\n                <div id=\\\"\" + this.getIdName('lg-inner') + \"\\\" class=\\\"lg-inner\\\">\\n                </div>\\n                \" + controls + \"\\n              </div>\\n                <div id=\\\"\" + this.getIdName('lg-toolbar') + \"\\\" class=\\\"lg-toolbar lg-group\\\">\\n                    \" + maximizeIcon + \"\\n                    \" + closeIcon + \"\\n                    </div>\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-outer'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                <div id=\\\"\" + this.getIdName('lg-components') + \"\\\" class=\\\"lg-components\\\">\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-sub-html'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                </div>\\n            </div>\\n        </div>\\n        \";\r\n        $LG(this.settings.container).append(template);\r\n        if (document.body !== this.settings.container) {\r\n            $LG(this.settings.container).css('position', 'relative');\r\n        }\r\n        this.outer = this.getElementById('lg-outer');\r\n        this.$lgComponents = this.getElementById('lg-components');\r\n        this.$backdrop = this.getElementById('lg-backdrop');\r\n        this.$container = this.getElementById('lg-container');\r\n        this.$inner = this.getElementById('lg-inner');\r\n        this.$content = this.getElementById('lg-content');\r\n        this.$toolbar = this.getElementById('lg-toolbar');\r\n        this.$backdrop.css('transition-duration', this.settings.backdropDuration + 'ms');\r\n        var outerClassNames = this.settings.mode + \" \";\r\n        this.manageSingleSlideClassName();\r\n        if (this.settings.enableDrag) {\r\n            outerClassNames += 'lg-grab ';\r\n        }\r\n        this.outer.addClass(outerClassNames);\r\n        this.$inner.css('transition-timing-function', this.settings.easing);\r\n        this.$inner.css('transition-duration', this.settings.speed + 'ms');\r\n        if (this.settings.download) {\r\n            this.$toolbar.append(\"<a id=\\\"\" + this.getIdName('lg-download') + \"\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" aria-label=\\\"\" + this.settings.strings['download'] + \"\\\" download class=\\\"lg-download lg-icon\\\"></a>\");\r\n        }\r\n        this.counter();\r\n        $LG(window).on(\"resize.lg.global\" + this.lgId + \" orientationchange.lg.global\" + this.lgId, function () {\r\n            _this.refreshOnResize();\r\n        });\r\n        this.hideBars();\r\n        this.manageCloseGallery();\r\n        this.toggleMaximize();\r\n        this.initModules();\r\n    };\r\n    LightGallery.prototype.refreshOnResize = function () {\r\n        if (this.lgOpened) {\r\n            var currentGalleryItem = this.galleryItems[this.index];\r\n            var __slideVideoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.mediaContainerPosition = this.getMediaContainerPosition();\r\n            var _a = this.mediaContainerPosition, top_1 = _a.top, bottom = _a.bottom;\r\n            this.currentImageSize = utils.getSize(this.items[this.index], this.outer, top_1 + bottom, __slideVideoInfo && this.settings.videoMaxSize);\r\n            if (__slideVideoInfo) {\r\n                this.resizeVideoSlide(this.index, this.currentImageSize);\r\n            }\r\n            if (this.zoomFromOrigin && !this.isDummyImageRemoved) {\r\n                var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n                this.outer\r\n                    .find('.lg-current .lg-dummy-img')\r\n                    .first()\r\n                    .attr('style', imgStyle);\r\n            }\r\n            this.LGel.trigger(lGEvents.containerResize);\r\n        }\r\n    };\r\n    LightGallery.prototype.resizeVideoSlide = function (index, imageSize) {\r\n        var lgVideoStyle = this.getVideoContStyle(imageSize);\r\n        var currentSlide = this.getSlideItem(index);\r\n        currentSlide.find('.lg-video-cont').attr('style', lgVideoStyle);\r\n    };\r\n    /**\r\n     * Update slides dynamically.\r\n     * Add, edit or delete slides dynamically when lightGallery is opened.\r\n     * Modify the current gallery items and pass it via updateSlides method\r\n     * @note\r\n     * - Do not mutate existing lightGallery items directly.\r\n     * - Always pass new list of gallery items\r\n     * - You need to take care of thumbnails outside the gallery if any\r\n     * - user this method only if you want to update slides when the gallery is opened. Otherwise, use `refresh()` method.\r\n     * @param items Gallery items\r\n     * @param index After the update operation, which slide gallery should navigate to\r\n     * @category lGPublicMethods\r\n     * @example\r\n     * const plugin = lightGallery();\r\n     *\r\n     * // Adding slides dynamically\r\n     * let galleryItems = [\r\n     * // Access existing lightGallery items\r\n     * // galleryItems are automatically generated internally from the gallery HTML markup\r\n     * // or directly from galleryItems when dynamic gallery is used\r\n     *   ...plugin.galleryItems,\r\n     *     ...[\r\n     *       {\r\n     *         src: 'img/img-1.png',\r\n     *           thumb: 'img/thumb1.png',\r\n     *         },\r\n     *     ],\r\n     *   ];\r\n     *   plugin.updateSlides(\r\n     *     galleryItems,\r\n     *     plugin.index,\r\n     *   );\r\n     *\r\n     *\r\n     * // Remove slides dynamically\r\n     * galleryItems = JSON.parse(\r\n     *   JSON.stringify(updateSlideInstance.galleryItems),\r\n     * );\r\n     * galleryItems.shift();\r\n     * updateSlideInstance.updateSlides(galleryItems, 1);\r\n     * @see <a href=\"/demos/update-slides/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.updateSlides = function (items, index) {\r\n        if (this.index > items.length - 1) {\r\n            this.index = items.length - 1;\r\n        }\r\n        if (items.length === 1) {\r\n            this.index = 0;\r\n        }\r\n        if (!items.length) {\r\n            this.closeGallery();\r\n            return;\r\n        }\r\n        var currentSrc = this.galleryItems[index].src;\r\n        this.galleryItems = items;\r\n        this.updateControls();\r\n        this.$inner.empty();\r\n        this.currentItemsInDom = [];\r\n        var _index = 0;\r\n        // Find the current index based on source value of the slide\r\n        this.galleryItems.some(function (galleryItem, itemIndex) {\r\n            if (galleryItem.src === currentSrc) {\r\n                _index = itemIndex;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        this.currentItemsInDom = this.organizeSlideItems(_index, -1);\r\n        this.loadContent(_index, true);\r\n        this.getSlideItem(_index).addClass('lg-current');\r\n        this.index = _index;\r\n        this.updateCurrentCounter(_index);\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    // Get gallery items based on multiple conditions\r\n    LightGallery.prototype.getItems = function () {\r\n        // Gallery items\r\n        this.items = [];\r\n        if (!this.settings.dynamic) {\r\n            if (this.settings.selector === 'this') {\r\n                this.items.push(this.el);\r\n            }\r\n            else if (this.settings.selector) {\r\n                if (typeof this.settings.selector === 'string') {\r\n                    if (this.settings.selectWithin) {\r\n                        var selectWithin = $LG(this.settings.selectWithin);\r\n                        this.items = selectWithin\r\n                            .find(this.settings.selector)\r\n                            .get();\r\n                    }\r\n                    else {\r\n                        this.items = this.el.querySelectorAll(this.settings.selector);\r\n                    }\r\n                }\r\n                else {\r\n                    this.items = this.settings.selector;\r\n                }\r\n            }\r\n            else {\r\n                this.items = this.el.children;\r\n            }\r\n            return utils.getDynamicOptions(this.items, this.settings.extraProps, this.settings.getCaptionFromTitleOrAlt, this.settings.exThumbImage);\r\n        }\r\n        else {\r\n            return this.settings.dynamicEl || [];\r\n        }\r\n    };\r\n    LightGallery.prototype.shouldHideScrollbar = function () {\r\n        return (this.settings.hideScrollbar &&\r\n            document.body === this.settings.container);\r\n    };\r\n    LightGallery.prototype.hideScrollbar = function () {\r\n        if (!this.shouldHideScrollbar()) {\r\n            return;\r\n        }\r\n        this.bodyPaddingRight = parseFloat($LG('body').style().paddingRight);\r\n        var bodyRect = document.documentElement.getBoundingClientRect();\r\n        var scrollbarWidth = window.innerWidth - bodyRect.width;\r\n        $LG(document.body).css('padding-right', scrollbarWidth + this.bodyPaddingRight + 'px');\r\n        $LG(document.body).addClass('lg-overlay-open');\r\n    };\r\n    LightGallery.prototype.resetScrollBar = function () {\r\n        if (!this.shouldHideScrollbar()) {\r\n            return;\r\n        }\r\n        $LG(document.body).css('padding-right', this.bodyPaddingRight + 'px');\r\n        $LG(document.body).removeClass('lg-overlay-open');\r\n    };\r\n    /**\r\n     * Open lightGallery.\r\n     * Open gallery with specific slide by passing index of the slide as parameter.\r\n     * @category lGPublicMethods\r\n     * @param {Number} index  - index of the slide\r\n     * @param {HTMLElement} element - Which image lightGallery should zoom from\r\n     *\r\n     * @example\r\n     * const $dynamicGallery = document.getElementById('dynamic-gallery-demo');\r\n     * const dynamicGallery = lightGallery($dynamicGallery, {\r\n     *     dynamic: true,\r\n     *     dynamicEl: [\r\n     *         {\r\n     *              src: 'img/1.jpg',\r\n     *              thumb: 'img/thumb-1.jpg',\r\n     *              subHtml: '<h4>Image 1 title</h4><p>Image 1 descriptions.</p>',\r\n     *         },\r\n     *         ...\r\n     *     ],\r\n     * });\r\n     * $dynamicGallery.addEventListener('click', function () {\r\n     *     // Starts with third item.(Optional).\r\n     *     // This is useful if you want use dynamic mode with\r\n     *     // custom thumbnails (thumbnails outside gallery),\r\n     *     dynamicGallery.openGallery(2);\r\n     * });\r\n     *\r\n     */\r\n    LightGallery.prototype.openGallery = function (index, element) {\r\n        var _this = this;\r\n        if (index === void 0) { index = this.settings.index; }\r\n        // prevent accidental double execution\r\n        if (this.lgOpened)\r\n            return;\r\n        this.lgOpened = true;\r\n        this.outer.removeClass('lg-hide-items');\r\n        this.hideScrollbar();\r\n        // Add display block, but still has opacity 0\r\n        this.$container.addClass('lg-show');\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, index);\r\n        this.currentItemsInDom = itemsToBeInsertedToDom;\r\n        var items = '';\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            items = items + (\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n        });\r\n        this.$inner.append(items);\r\n        this.addHtml(index);\r\n        var transform = '';\r\n        this.mediaContainerPosition = this.getMediaContainerPosition();\r\n        var _a = this.mediaContainerPosition, top = _a.top, bottom = _a.bottom;\r\n        if (!this.settings.allowMediaOverlap) {\r\n            this.setMediaContainerPosition(top, bottom);\r\n        }\r\n        var __slideVideoInfo = this.galleryItems[index].__slideVideoInfo;\r\n        if (this.zoomFromOrigin && element) {\r\n            this.currentImageSize = utils.getSize(element, this.outer, top + bottom, __slideVideoInfo && this.settings.videoMaxSize);\r\n            transform = utils.getTransform(element, this.outer, top, bottom, this.currentImageSize);\r\n        }\r\n        if (!this.zoomFromOrigin || !transform) {\r\n            this.outer.addClass(this.settings.startClass);\r\n            this.getSlideItem(index).removeClass('lg-complete');\r\n        }\r\n        var timeout = this.settings.zoomFromOrigin\r\n            ? 100\r\n            : this.settings.backdropDuration;\r\n        setTimeout(function () {\r\n            _this.outer.addClass('lg-components-open');\r\n        }, timeout);\r\n        this.index = index;\r\n        this.LGel.trigger(lGEvents.beforeOpen);\r\n        // add class lg-current to remove initial transition\r\n        this.getSlideItem(index).addClass('lg-current');\r\n        this.lGalleryOn = false;\r\n        // Store the current scroll top value to scroll back after closing the gallery..\r\n        this.prevScrollTop = $LG(window).scrollTop();\r\n        setTimeout(function () {\r\n            // Need to check both zoomFromOrigin and transform values as we need to set set the\r\n            // default opening animation if user missed to add the lg-size attribute\r\n            if (_this.zoomFromOrigin && transform) {\r\n                var currentSlide_1 = _this.getSlideItem(index);\r\n                currentSlide_1.css('transform', transform);\r\n                setTimeout(function () {\r\n                    currentSlide_1\r\n                        .addClass('lg-start-progress lg-start-end-progress')\r\n                        .css('transition-duration', _this.settings.startAnimationDuration + 'ms');\r\n                    _this.outer.addClass('lg-zoom-from-image');\r\n                });\r\n                setTimeout(function () {\r\n                    currentSlide_1.css('transform', 'translate3d(0, 0, 0)');\r\n                }, 100);\r\n            }\r\n            setTimeout(function () {\r\n                _this.$backdrop.addClass('in');\r\n                _this.$container.addClass('lg-show-in');\r\n            }, 10);\r\n            setTimeout(function () {\r\n                if (_this.settings.trapFocus &&\r\n                    document.body === _this.settings.container) {\r\n                    _this.trapFocus();\r\n                }\r\n            }, _this.settings.backdropDuration + 50);\r\n            // lg-visible class resets gallery opacity to 1\r\n            if (!_this.zoomFromOrigin || !transform) {\r\n                setTimeout(function () {\r\n                    _this.outer.addClass('lg-visible');\r\n                }, _this.settings.backdropDuration);\r\n            }\r\n            // initiate slide function\r\n            _this.slide(index, false, false, false);\r\n            _this.LGel.trigger(lGEvents.afterOpen);\r\n        });\r\n        if (document.body === this.settings.container) {\r\n            $LG('html').addClass('lg-on');\r\n        }\r\n    };\r\n    /**\r\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\r\n     * Therefore,The height of the caption is calculated dynamically, only once based on the first slide caption.\r\n     * if you have dynamic captions for each media,\r\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\r\n     */\r\n    LightGallery.prototype.getMediaContainerPosition = function () {\r\n        if (this.settings.allowMediaOverlap) {\r\n            return {\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n        }\r\n        var top = this.$toolbar.get().clientHeight || 0;\r\n        var subHtml = this.outer.find('.lg-components .lg-sub-html').get();\r\n        var captionHeight = this.settings.defaultCaptionHeight ||\r\n            (subHtml && subHtml.clientHeight) ||\r\n            0;\r\n        var thumbContainer = this.outer.find('.lg-thumb-outer').get();\r\n        var thumbHeight = thumbContainer ? thumbContainer.clientHeight : 0;\r\n        var bottom = thumbHeight + captionHeight;\r\n        return {\r\n            top: top,\r\n            bottom: bottom,\r\n        };\r\n    };\r\n    LightGallery.prototype.setMediaContainerPosition = function (top, bottom) {\r\n        if (top === void 0) { top = 0; }\r\n        if (bottom === void 0) { bottom = 0; }\r\n        this.$content.css('top', top + 'px').css('bottom', bottom + 'px');\r\n    };\r\n    LightGallery.prototype.hideBars = function () {\r\n        var _this = this;\r\n        // Hide controllers if mouse doesn't move for some period\r\n        setTimeout(function () {\r\n            _this.outer.removeClass('lg-hide-items');\r\n            if (_this.settings.hideBarsDelay > 0) {\r\n                _this.outer.on('mousemove.lg click.lg touchstart.lg', function () {\r\n                    _this.outer.removeClass('lg-hide-items');\r\n                    clearTimeout(_this.hideBarTimeout);\r\n                    // Timeout will be cleared on each slide movement also\r\n                    _this.hideBarTimeout = setTimeout(function () {\r\n                        _this.outer.addClass('lg-hide-items');\r\n                    }, _this.settings.hideBarsDelay);\r\n                });\r\n                _this.outer.trigger('mousemove.lg');\r\n            }\r\n        }, this.settings.showBarsAfter);\r\n    };\r\n    LightGallery.prototype.initPictureFill = function ($img) {\r\n        if (this.settings.supportLegacyBrowser) {\r\n            try {\r\n                picturefill({\r\n                    elements: [$img.get()],\r\n                });\r\n            }\r\n            catch (e) {\r\n                console.warn('lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.');\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  @desc Create image counter\r\n     *  Ex: 1/10\r\n     */\r\n    LightGallery.prototype.counter = function () {\r\n        if (this.settings.counter) {\r\n            var counterHtml = \"<div class=\\\"lg-counter\\\" role=\\\"status\\\" aria-live=\\\"polite\\\">\\n                <span id=\\\"\" + this.getIdName('lg-counter-current') + \"\\\" class=\\\"lg-counter-current\\\">\" + (this.index + 1) + \" </span> /\\n                <span id=\\\"\" + this.getIdName('lg-counter-all') + \"\\\" class=\\\"lg-counter-all\\\">\" + this.galleryItems.length + \" </span></div>\";\r\n            this.outer.find(this.settings.appendCounterTo).append(counterHtml);\r\n        }\r\n    };\r\n    /**\r\n     *  @desc add sub-html into the slide\r\n     *  @param {Number} index - index of the slide\r\n     */\r\n    LightGallery.prototype.addHtml = function (index) {\r\n        var subHtml;\r\n        var subHtmlUrl;\r\n        if (this.galleryItems[index].subHtmlUrl) {\r\n            subHtmlUrl = this.galleryItems[index].subHtmlUrl;\r\n        }\r\n        else {\r\n            subHtml = this.galleryItems[index].subHtml;\r\n        }\r\n        if (!subHtmlUrl) {\r\n            if (subHtml) {\r\n                // get first letter of sub-html\r\n                // if first letter starts with . or # get the html form the jQuery object\r\n                var fL = subHtml.substring(0, 1);\r\n                if (fL === '.' || fL === '#') {\r\n                    if (this.settings.subHtmlSelectorRelative &&\r\n                        !this.settings.dynamic) {\r\n                        subHtml = $LG(this.items)\r\n                            .eq(index)\r\n                            .find(subHtml)\r\n                            .first()\r\n                            .html();\r\n                    }\r\n                    else {\r\n                        subHtml = $LG(subHtml).first().html();\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                subHtml = '';\r\n            }\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            if (subHtmlUrl) {\r\n                this.outer.find('.lg-sub-html').load(subHtmlUrl);\r\n            }\r\n            else {\r\n                this.outer.find('.lg-sub-html').html(subHtml);\r\n            }\r\n        }\r\n        else {\r\n            var currentSlide = $LG(this.getSlideItemId(index));\r\n            if (subHtmlUrl) {\r\n                currentSlide.load(subHtmlUrl);\r\n            }\r\n            else {\r\n                currentSlide.append(\"<div class=\\\"lg-sub-html\\\">\" + subHtml + \"</div>\");\r\n            }\r\n        }\r\n        // Add lg-empty-html class if title doesn't exist\r\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\r\n            if (subHtml === '') {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .addClass('lg-empty-html');\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .removeClass('lg-empty-html');\r\n            }\r\n        }\r\n        this.LGel.trigger(lGEvents.afterAppendSubHtml, {\r\n            index: index,\r\n        });\r\n    };\r\n    /**\r\n     *  @desc Preload slides\r\n     *  @param {Number} index - index of the slide\r\n     * @todo preload not working for the first slide, Also, should work for the first and last slide as well\r\n     */\r\n    LightGallery.prototype.preload = function (index) {\r\n        for (var i = 1; i <= this.settings.preload; i++) {\r\n            if (i >= this.galleryItems.length - index) {\r\n                break;\r\n            }\r\n            this.loadContent(index + i, false);\r\n        }\r\n        for (var j = 1; j <= this.settings.preload; j++) {\r\n            if (index - j < 0) {\r\n                break;\r\n            }\r\n            this.loadContent(index - j, false);\r\n        }\r\n    };\r\n    LightGallery.prototype.getDummyImgStyles = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                margin-left: -\" + imageSize.width / 2 + \"px;\\n                margin-top: -\" + imageSize.height / 2 + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getVideoContStyle = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getDummyImageContent = function ($currentSlide, index, alt) {\r\n        var $currentItem;\r\n        if (!this.settings.dynamic) {\r\n            $currentItem = $LG(this.items).eq(index);\r\n        }\r\n        if ($currentItem) {\r\n            var _dummyImgSrc = void 0;\r\n            if (!this.settings.exThumbImage) {\r\n                _dummyImgSrc = $currentItem.find('img').first().attr('src');\r\n            }\r\n            else {\r\n                _dummyImgSrc = $currentItem.attr(this.settings.exThumbImage);\r\n            }\r\n            if (!_dummyImgSrc)\r\n                return '';\r\n            var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n            var dummyImgContent = \"<img \" + alt + \" style=\\\"\" + imgStyle + \"\\\" class=\\\"lg-dummy-img\\\" src=\\\"\" + _dummyImgSrc + \"\\\" />\";\r\n            $currentSlide.addClass('lg-first-slide');\r\n            this.outer.addClass('lg-first-slide-loading');\r\n            return dummyImgContent;\r\n        }\r\n        return '';\r\n    };\r\n    LightGallery.prototype.setImgMarkup = function (src, $currentSlide, index) {\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var alt = currentGalleryItem.alt, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        // Use the thumbnail as dummy image which will be resized to actual image size and\r\n        // displayed on top of actual image\r\n        var imgContent = '';\r\n        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n        if (this.isFirstSlideWithZoomAnimation()) {\r\n            imgContent = this.getDummyImageContent($currentSlide, index, altAttr);\r\n        }\r\n        else {\r\n            imgContent = utils.getImgMarkup(index, src, altAttr, srcset, sizes, sources);\r\n        }\r\n        var imgMarkup = \"<picture class=\\\"lg-img-wrap\\\"> \" + imgContent + \"</picture>\";\r\n        $currentSlide.prepend(imgMarkup);\r\n    };\r\n    LightGallery.prototype.onSlideObjectLoad = function ($slide, isHTML5VideoWithoutPoster, onLoad, onError) {\r\n        var mediaObject = $slide.find('.lg-object').first();\r\n        if (utils.isImageLoaded(mediaObject.get()) ||\r\n            isHTML5VideoWithoutPoster) {\r\n            onLoad();\r\n        }\r\n        else {\r\n            mediaObject.on('load.lg error.lg', function () {\r\n                onLoad && onLoad();\r\n            });\r\n            mediaObject.on('error.lg', function () {\r\n                onError && onError();\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param $el Current slide item\r\n     * @param index\r\n     * @param delay Delay is 0 except first time\r\n     * @param speed Speed is same as delay, except it is 0 if gallery is opened via hash plugin\r\n     * @param isFirstSlide\r\n     */\r\n    LightGallery.prototype.onLgObjectLoad = function (currentSlide, index, delay, speed, isFirstSlide, isHTML5VideoWithoutPoster) {\r\n        var _this = this;\r\n        this.onSlideObjectLoad(currentSlide, isHTML5VideoWithoutPoster, function () {\r\n            _this.triggerSlideItemLoad(currentSlide, index, delay, speed, isFirstSlide);\r\n        }, function () {\r\n            currentSlide.addClass('lg-complete lg-complete_');\r\n            currentSlide.html('<span class=\"lg-error-msg\">' +\r\n                _this.settings.strings['mediaLoadingFailed'] +\r\n                '</span>');\r\n        });\r\n    };\r\n    LightGallery.prototype.triggerSlideItemLoad = function ($currentSlide, index, delay, speed, isFirstSlide) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        // Adding delay for video slides without poster for better performance and user experience\r\n        // Videos should start playing once once the gallery is completely loaded\r\n        var _speed = isFirstSlide &&\r\n            this.getSlideType(currentGalleryItem) === 'video' &&\r\n            !currentGalleryItem.poster\r\n            ? speed\r\n            : 0;\r\n        setTimeout(function () {\r\n            $currentSlide.addClass('lg-complete lg-complete_');\r\n            _this.LGel.trigger(lGEvents.slideItemLoad, {\r\n                index: index,\r\n                delay: delay || 0,\r\n                isFirstSlide: isFirstSlide,\r\n            });\r\n        }, _speed);\r\n    };\r\n    LightGallery.prototype.isFirstSlideWithZoomAnimation = function () {\r\n        return !!(!this.lGalleryOn &&\r\n            this.zoomFromOrigin &&\r\n            this.currentImageSize);\r\n    };\r\n    // Add video slideInfo\r\n    LightGallery.prototype.addSlideVideoInfo = function (items) {\r\n        var _this = this;\r\n        items.forEach(function (element, index) {\r\n            element.__slideVideoInfo = utils.isVideo(element.src, !!element.video, index);\r\n            if (element.__slideVideoInfo &&\r\n                _this.settings.loadYouTubePoster &&\r\n                !element.poster &&\r\n                element.__slideVideoInfo.youtube) {\r\n                element.poster = \"//img.youtube.com/vi/\" + element.__slideVideoInfo.youtube[1] + \"/maxresdefault.jpg\";\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     *  Load slide content into slide.\r\n     *  This is used to load content into slides that is not visible too\r\n     *  @param {Number} index - index of the slide.\r\n     *  @param {Boolean} rec - if true call loadcontent() function again.\r\n     */\r\n    LightGallery.prototype.loadContent = function (index, rec) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var $currentSlide = $LG(this.getSlideItemId(index));\r\n        var poster = currentGalleryItem.poster, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        var src = currentGalleryItem.src;\r\n        var video = currentGalleryItem.video;\r\n        var _html5Video = video && typeof video === 'string' ? JSON.parse(video) : video;\r\n        if (currentGalleryItem.responsive) {\r\n            var srcDyItms = currentGalleryItem.responsive.split(',');\r\n            src = utils.getResponsiveSrc(srcDyItms) || src;\r\n        }\r\n        var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n        var lgVideoStyle = '';\r\n        var iframe = !!currentGalleryItem.iframe;\r\n        var isFirstSlide = !this.lGalleryOn;\r\n        // delay for adding complete class. it is 0 except first time.\r\n        var delay = 0;\r\n        if (isFirstSlide) {\r\n            if (this.zoomFromOrigin && this.currentImageSize) {\r\n                delay = this.settings.startAnimationDuration + 10;\r\n            }\r\n            else {\r\n                delay = this.settings.backdropDuration + 10;\r\n            }\r\n        }\r\n        if (!$currentSlide.hasClass('lg-loaded')) {\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_2 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_2 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                lgVideoStyle = this.getVideoContStyle(videoSize);\r\n            }\r\n            if (iframe) {\r\n                var markup = utils.getIframeMarkup(this.settings.iframeWidth, this.settings.iframeHeight, this.settings.iframeMaxWidth, this.settings.iframeMaxHeight, src, currentGalleryItem.iframeTitle);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (poster) {\r\n                var dummyImg = '';\r\n                var hasStartAnimation = isFirstSlide &&\r\n                    this.zoomFromOrigin &&\r\n                    this.currentImageSize;\r\n                if (hasStartAnimation) {\r\n                    dummyImg = this.getDummyImageContent($currentSlide, index, '');\r\n                }\r\n                var markup = utils.getVideoPosterMarkup(poster, dummyImg || '', lgVideoStyle, this.settings.strings['playVideo'], videoInfo);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (videoInfo) {\r\n                var markup = \"<div class=\\\"lg-video-cont \\\" style=\\\"\" + lgVideoStyle + \"\\\"></div>\";\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else {\r\n                this.setImgMarkup(src, $currentSlide, index);\r\n                if (srcset || sources) {\r\n                    var $img = $currentSlide.find('.lg-object');\r\n                    this.initPictureFill($img);\r\n                }\r\n            }\r\n            if (poster || videoInfo) {\r\n                this.LGel.trigger(lGEvents.hasVideo, {\r\n                    index: index,\r\n                    src: src,\r\n                    html5Video: _html5Video,\r\n                    hasPoster: !!poster,\r\n                });\r\n            }\r\n            this.LGel.trigger(lGEvents.afterAppendSlide, { index: index });\r\n            if (this.lGalleryOn &&\r\n                this.settings.appendSubHtmlTo === '.lg-item') {\r\n                this.addHtml(index);\r\n            }\r\n        }\r\n        // For first time add some delay for displaying the start animation.\r\n        var _speed = 0;\r\n        // Do not change the delay value because it is required for zoom plugin.\r\n        // If gallery opened from direct url (hash) speed value should be 0\r\n        if (delay && !$LG(document.body).hasClass('lg-from-hash')) {\r\n            _speed = delay;\r\n        }\r\n        // Only for first slide and zoomFromOrigin is enabled\r\n        if (this.isFirstSlideWithZoomAnimation()) {\r\n            setTimeout(function () {\r\n                $currentSlide\r\n                    .removeClass('lg-start-end-progress lg-start-progress')\r\n                    .removeAttr('style');\r\n            }, this.settings.startAnimationDuration + 100);\r\n            if (!$currentSlide.hasClass('lg-loaded')) {\r\n                setTimeout(function () {\r\n                    if (_this.getSlideType(currentGalleryItem) === 'image') {\r\n                        var alt = currentGalleryItem.alt;\r\n                        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n                        $currentSlide\r\n                            .find('.lg-img-wrap')\r\n                            .append(utils.getImgMarkup(index, src, altAttr, srcset, sizes, currentGalleryItem.sources));\r\n                        if (srcset || sources) {\r\n                            var $img = $currentSlide.find('.lg-object');\r\n                            _this.initPictureFill($img);\r\n                        }\r\n                    }\r\n                    if (_this.getSlideType(currentGalleryItem) === 'image' ||\r\n                        (_this.getSlideType(currentGalleryItem) === 'video' &&\r\n                            poster)) {\r\n                        _this.onLgObjectLoad($currentSlide, index, delay, _speed, true, false);\r\n                        // load remaining slides once the slide is completely loaded\r\n                        _this.onSlideObjectLoad($currentSlide, !!(videoInfo && videoInfo.html5 && !poster), function () {\r\n                            _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);\r\n                        }, function () {\r\n                            _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);\r\n                        });\r\n                    }\r\n                }, this.settings.startAnimationDuration + 100);\r\n            }\r\n        }\r\n        // SLide content has been added to dom\r\n        $currentSlide.addClass('lg-loaded');\r\n        if (!this.isFirstSlideWithZoomAnimation() ||\r\n            (this.getSlideType(currentGalleryItem) === 'video' && !poster)) {\r\n            this.onLgObjectLoad($currentSlide, index, delay, _speed, isFirstSlide, !!(videoInfo && videoInfo.html5 && !poster));\r\n        }\r\n        // When gallery is opened once content is loaded (second time) need to add lg-complete class for css styling\r\n        if ((!this.zoomFromOrigin || !this.currentImageSize) &&\r\n            $currentSlide.hasClass('lg-complete_') &&\r\n            !this.lGalleryOn) {\r\n            setTimeout(function () {\r\n                $currentSlide.addClass('lg-complete');\r\n            }, this.settings.backdropDuration);\r\n        }\r\n        // Content loaded\r\n        // Need to set lGalleryOn before calling preload function\r\n        this.lGalleryOn = true;\r\n        if (rec === true) {\r\n            if (!$currentSlide.hasClass('lg-complete_')) {\r\n                $currentSlide\r\n                    .find('.lg-object')\r\n                    .first()\r\n                    .on('load.lg error.lg', function () {\r\n                    _this.preload(index);\r\n                });\r\n            }\r\n            else {\r\n                this.preload(index);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @desc Remove dummy image content and load next slides\r\n     * Called only for the first time if zoomFromOrigin animation is enabled\r\n     * @param index\r\n     * @param $currentSlide\r\n     * @param speed\r\n     */\r\n    LightGallery.prototype.loadContentOnFirstSlideLoad = function (index, $currentSlide, speed) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            $currentSlide.find('.lg-dummy-img').remove();\r\n            $currentSlide.removeClass('lg-first-slide');\r\n            _this.outer.removeClass('lg-first-slide-loading');\r\n            _this.isDummyImageRemoved = true;\r\n            _this.preload(index);\r\n        }, speed + 300);\r\n    };\r\n    LightGallery.prototype.getItemsToBeInsertedToDom = function (index, prevIndex, numberOfItems) {\r\n        var _this = this;\r\n        if (numberOfItems === void 0) { numberOfItems = 0; }\r\n        var itemsToBeInsertedToDom = [];\r\n        // Minimum 2 items should be there\r\n        var possibleNumberOfItems = Math.max(numberOfItems, 3);\r\n        possibleNumberOfItems = Math.min(possibleNumberOfItems, this.galleryItems.length);\r\n        var prevIndexItem = \"lg-item-\" + this.lgId + \"-\" + prevIndex;\r\n        if (this.galleryItems.length <= 3) {\r\n            this.galleryItems.forEach(function (_element, index) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + _this.lgId + \"-\" + index);\r\n            });\r\n            return itemsToBeInsertedToDom;\r\n        }\r\n        if (index < (this.galleryItems.length - 1) / 2) {\r\n            for (var idx = index; idx > index - possibleNumberOfItems / 2 && idx >= 0; idx--) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index + idx + 1));\r\n            }\r\n        }\r\n        else {\r\n            for (var idx = index; idx <= this.galleryItems.length - 1 &&\r\n                idx < index + possibleNumberOfItems / 2; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index - idx - 1));\r\n            }\r\n        }\r\n        if (this.settings.loop) {\r\n            if (index === this.galleryItems.length - 1) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + 0);\r\n            }\r\n            else if (index === 0) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (this.galleryItems.length - 1));\r\n            }\r\n        }\r\n        if (itemsToBeInsertedToDom.indexOf(prevIndexItem) === -1) {\r\n            itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + prevIndex);\r\n        }\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    LightGallery.prototype.organizeSlideItems = function (index, prevIndex) {\r\n        var _this = this;\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, prevIndex, this.settings.numberOfSlideItemsInDom);\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            if (_this.currentItemsInDom.indexOf(item) === -1) {\r\n                _this.$inner.append(\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n            }\r\n        });\r\n        this.currentItemsInDom.forEach(function (item) {\r\n            if (itemsToBeInsertedToDom.indexOf(item) === -1) {\r\n                $LG(\"#\" + item).remove();\r\n            }\r\n        });\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    /**\r\n     * Get previous index of the slide\r\n     */\r\n    LightGallery.prototype.getPreviousSlideIndex = function () {\r\n        var prevIndex = 0;\r\n        try {\r\n            var currentItemId = this.outer\r\n                .find('.lg-current')\r\n                .first()\r\n                .attr('id');\r\n            prevIndex = parseInt(currentItemId.split('-')[3]) || 0;\r\n        }\r\n        catch (error) {\r\n            prevIndex = 0;\r\n        }\r\n        return prevIndex;\r\n    };\r\n    LightGallery.prototype.setDownloadValue = function (index) {\r\n        if (this.settings.download) {\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var hideDownloadBtn = currentGalleryItem.downloadUrl === false ||\r\n                currentGalleryItem.downloadUrl === 'false';\r\n            if (hideDownloadBtn) {\r\n                this.outer.addClass('lg-hide-download');\r\n            }\r\n            else {\r\n                var $download = this.getElementById('lg-download');\r\n                this.outer.removeClass('lg-hide-download');\r\n                $download.attr('href', currentGalleryItem.downloadUrl ||\r\n                    currentGalleryItem.src);\r\n                if (currentGalleryItem.download) {\r\n                    $download.attr('download', currentGalleryItem.download);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.makeSlideAnimation = function (direction, currentSlideItem, previousSlideItem) {\r\n        var _this = this;\r\n        if (this.lGalleryOn) {\r\n            previousSlideItem.addClass('lg-slide-progress');\r\n        }\r\n        setTimeout(function () {\r\n            // remove all transitions\r\n            _this.outer.addClass('lg-no-trans');\r\n            _this.outer\r\n                .find('.lg-item')\r\n                .removeClass('lg-prev-slide lg-next-slide');\r\n            if (direction === 'prev') {\r\n                //prevslide\r\n                currentSlideItem.addClass('lg-prev-slide');\r\n                previousSlideItem.addClass('lg-next-slide');\r\n            }\r\n            else {\r\n                // next slide\r\n                currentSlideItem.addClass('lg-next-slide');\r\n                previousSlideItem.addClass('lg-prev-slide');\r\n            }\r\n            // give 50 ms for browser to add/remove class\r\n            setTimeout(function () {\r\n                _this.outer.find('.lg-item').removeClass('lg-current');\r\n                currentSlideItem.addClass('lg-current');\r\n                // reset all transitions\r\n                _this.outer.removeClass('lg-no-trans');\r\n            }, 50);\r\n        }, this.lGalleryOn ? this.settings.slideDelay : 0);\r\n    };\r\n    /**\r\n     * Goto a specific slide.\r\n     * @param {Number} index - index of the slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\r\n     * @param {Boolean} fromThumb - true if slide function called via thumbnail click\r\n     * @param {String} direction - Direction of the slide(next/prev)\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // to go to 3rd slide\r\n     *  plugin.slide(2);\r\n     *\r\n     */\r\n    LightGallery.prototype.slide = function (index, fromTouch, fromThumb, direction) {\r\n        var _this = this;\r\n        var prevIndex = this.getPreviousSlideIndex();\r\n        this.currentItemsInDom = this.organizeSlideItems(index, prevIndex);\r\n        // Prevent multiple call, Required for hsh plugin\r\n        if (this.lGalleryOn && prevIndex === index) {\r\n            return;\r\n        }\r\n        var numberOfGalleryItems = this.galleryItems.length;\r\n        if (!this.lgBusy) {\r\n            if (this.settings.counter) {\r\n                this.updateCurrentCounter(index);\r\n            }\r\n            var currentSlideItem = this.getSlideItem(index);\r\n            var previousSlideItem_1 = this.getSlideItem(prevIndex);\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.outer.attr('data-lg-slide-type', this.getSlideType(currentGalleryItem));\r\n            this.setDownloadValue(index);\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_3 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_3 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                this.resizeVideoSlide(index, videoSize);\r\n            }\r\n            this.LGel.trigger(lGEvents.beforeSlide, {\r\n                prevIndex: prevIndex,\r\n                index: index,\r\n                fromTouch: !!fromTouch,\r\n                fromThumb: !!fromThumb,\r\n            });\r\n            this.lgBusy = true;\r\n            clearTimeout(this.hideBarTimeout);\r\n            this.arrowDisable(index);\r\n            if (!direction) {\r\n                if (index < prevIndex) {\r\n                    direction = 'prev';\r\n                }\r\n                else if (index > prevIndex) {\r\n                    direction = 'next';\r\n                }\r\n            }\r\n            if (!fromTouch) {\r\n                this.makeSlideAnimation(direction, currentSlideItem, previousSlideItem_1);\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find('.lg-item')\r\n                    .removeClass('lg-prev-slide lg-current lg-next-slide');\r\n                var touchPrev = void 0;\r\n                var touchNext = void 0;\r\n                if (numberOfGalleryItems > 2) {\r\n                    touchPrev = index - 1;\r\n                    touchNext = index + 1;\r\n                    if (index === 0 && prevIndex === numberOfGalleryItems - 1) {\r\n                        // next slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                    else if (index === numberOfGalleryItems - 1 &&\r\n                        prevIndex === 0) {\r\n                        // prev slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                }\r\n                else {\r\n                    touchPrev = 0;\r\n                    touchNext = 1;\r\n                }\r\n                if (direction === 'prev') {\r\n                    this.getSlideItem(touchNext).addClass('lg-next-slide');\r\n                }\r\n                else {\r\n                    this.getSlideItem(touchPrev).addClass('lg-prev-slide');\r\n                }\r\n                currentSlideItem.addClass('lg-current');\r\n            }\r\n            // Do not put load content in set timeout as it needs to load immediately when the gallery is opened\r\n            if (!this.lGalleryOn) {\r\n                this.loadContent(index, true);\r\n            }\r\n            else {\r\n                setTimeout(function () {\r\n                    _this.loadContent(index, true);\r\n                    // Add title if this.settings.appendSubHtmlTo === lg-sub-html\r\n                    if (_this.settings.appendSubHtmlTo !== '.lg-item') {\r\n                        _this.addHtml(index);\r\n                    }\r\n                }, this.settings.speed + 50 + (fromTouch ? 0 : this.settings.slideDelay));\r\n            }\r\n            setTimeout(function () {\r\n                _this.lgBusy = false;\r\n                previousSlideItem_1.removeClass('lg-slide-progress');\r\n                _this.LGel.trigger(lGEvents.afterSlide, {\r\n                    prevIndex: prevIndex,\r\n                    index: index,\r\n                    fromTouch: fromTouch,\r\n                    fromThumb: fromThumb,\r\n                });\r\n            }, (this.lGalleryOn ? this.settings.speed + 100 : 100) + (fromTouch ? 0 : this.settings.slideDelay));\r\n        }\r\n        this.index = index;\r\n    };\r\n    LightGallery.prototype.updateCurrentCounter = function (index) {\r\n        this.getElementById('lg-counter-current').html(index + 1 + '');\r\n    };\r\n    LightGallery.prototype.updateCounterTotal = function () {\r\n        this.getElementById('lg-counter-all').html(this.galleryItems.length + '');\r\n    };\r\n    LightGallery.prototype.getSlideType = function (item) {\r\n        if (item.__slideVideoInfo) {\r\n            return 'video';\r\n        }\r\n        else if (item.iframe) {\r\n            return 'iframe';\r\n        }\r\n        else {\r\n            return 'image';\r\n        }\r\n    };\r\n    LightGallery.prototype.touchMove = function (startCoords, endCoords, e) {\r\n        var distanceX = endCoords.pageX - startCoords.pageX;\r\n        var distanceY = endCoords.pageY - startCoords.pageY;\r\n        var allowSwipe = false;\r\n        if (this.swipeDirection) {\r\n            allowSwipe = true;\r\n        }\r\n        else {\r\n            if (Math.abs(distanceX) > 15) {\r\n                this.swipeDirection = 'horizontal';\r\n                allowSwipe = true;\r\n            }\r\n            else if (Math.abs(distanceY) > 15) {\r\n                this.swipeDirection = 'vertical';\r\n                allowSwipe = true;\r\n            }\r\n        }\r\n        if (!allowSwipe) {\r\n            return;\r\n        }\r\n        var $currentSlide = this.getSlideItem(this.index);\r\n        if (this.swipeDirection === 'horizontal') {\r\n            e === null || e === void 0 ? void 0 : e.preventDefault();\r\n            // reset opacity and transition duration\r\n            this.outer.addClass('lg-dragging');\r\n            // move current slide\r\n            this.setTranslate($currentSlide, distanceX, 0);\r\n            // move next and prev slide with current slide\r\n            var width = $currentSlide.get().offsetWidth;\r\n            var slideWidthAmount = (width * 15) / 100;\r\n            var gutter = slideWidthAmount - Math.abs((distanceX * 10) / 100);\r\n            this.setTranslate(this.outer.find('.lg-prev-slide').first(), -width + distanceX - gutter, 0);\r\n            this.setTranslate(this.outer.find('.lg-next-slide').first(), width + distanceX + gutter, 0);\r\n        }\r\n        else if (this.swipeDirection === 'vertical') {\r\n            if (this.settings.swipeToClose) {\r\n                e === null || e === void 0 ? void 0 : e.preventDefault();\r\n                this.$container.addClass('lg-dragging-vertical');\r\n                var opacity = 1 - Math.abs(distanceY) / window.innerHeight;\r\n                this.$backdrop.css('opacity', opacity);\r\n                var scale = 1 - Math.abs(distanceY) / (window.innerWidth * 2);\r\n                this.setTranslate($currentSlide, 0, distanceY, scale, scale);\r\n                if (Math.abs(distanceY) > 100) {\r\n                    this.outer\r\n                        .addClass('lg-hide-items')\r\n                        .removeClass('lg-components-open');\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.touchEnd = function (endCoords, startCoords, event) {\r\n        var _this = this;\r\n        var distance;\r\n        // keep slide animation for any mode while dragg/swipe\r\n        if (this.settings.mode !== 'lg-slide') {\r\n            this.outer.addClass('lg-slide');\r\n        }\r\n        // set transition duration\r\n        setTimeout(function () {\r\n            _this.$container.removeClass('lg-dragging-vertical');\r\n            _this.outer\r\n                .removeClass('lg-dragging lg-hide-items')\r\n                .addClass('lg-components-open');\r\n            var triggerClick = true;\r\n            if (_this.swipeDirection === 'horizontal') {\r\n                distance = endCoords.pageX - startCoords.pageX;\r\n                var distanceAbs = Math.abs(endCoords.pageX - startCoords.pageX);\r\n                if (distance < 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToNextSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n                else if (distance > 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToPrevSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n            }\r\n            else if (_this.swipeDirection === 'vertical') {\r\n                distance = Math.abs(endCoords.pageY - startCoords.pageY);\r\n                if (_this.settings.closable &&\r\n                    _this.settings.swipeToClose &&\r\n                    distance > 100) {\r\n                    _this.closeGallery();\r\n                    return;\r\n                }\r\n                else {\r\n                    _this.$backdrop.css('opacity', 1);\r\n                }\r\n            }\r\n            _this.outer.find('.lg-item').removeAttr('style');\r\n            if (triggerClick &&\r\n                Math.abs(endCoords.pageX - startCoords.pageX) < 5) {\r\n                // Trigger click if distance is less than 5 pix\r\n                var target = $LG(event.target);\r\n                if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n            }\r\n            _this.swipeDirection = undefined;\r\n        });\r\n        // remove slide class once drag/swipe is completed if mode is not slide\r\n        setTimeout(function () {\r\n            if (!_this.outer.hasClass('lg-dragging') &&\r\n                _this.settings.mode !== 'lg-slide') {\r\n                _this.outer.removeClass('lg-slide');\r\n            }\r\n        }, this.settings.speed + 100);\r\n    };\r\n    LightGallery.prototype.enableSwipe = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isMoved = false;\r\n        var isSwiping = false;\r\n        if (this.settings.enableSwipe) {\r\n            this.$inner.on('touchstart.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if (($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) &&\r\n                    !_this.outer.hasClass('lg-zoomed') &&\r\n                    !_this.lgBusy &&\r\n                    e.touches.length === 1) {\r\n                    isSwiping = true;\r\n                    _this.touchAction = 'swipe';\r\n                    _this.manageSwipeClass();\r\n                    startCoords = {\r\n                        pageX: e.touches[0].pageX,\r\n                        pageY: e.touches[0].pageY,\r\n                    };\r\n                }\r\n            });\r\n            this.$inner.on('touchmove.lg', function (e) {\r\n                if (isSwiping &&\r\n                    _this.touchAction === 'swipe' &&\r\n                    e.touches.length === 1) {\r\n                    endCoords = {\r\n                        pageX: e.touches[0].pageX,\r\n                        pageY: e.touches[0].pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords, e);\r\n                    isMoved = true;\r\n                }\r\n            });\r\n            this.$inner.on('touchend.lg', function (event) {\r\n                if (_this.touchAction === 'swipe') {\r\n                    if (isMoved) {\r\n                        isMoved = false;\r\n                        _this.touchEnd(endCoords, startCoords, event);\r\n                    }\r\n                    else if (isSwiping) {\r\n                        var target = $LG(event.target);\r\n                        if (_this.isPosterElement(target)) {\r\n                            _this.LGel.trigger(lGEvents.posterClick);\r\n                        }\r\n                    }\r\n                    _this.touchAction = undefined;\r\n                    isSwiping = false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.enableDrag = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isDraging = false;\r\n        var isMoved = false;\r\n        if (this.settings.enableDrag) {\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if ($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) {\r\n                    if (!_this.outer.hasClass('lg-zoomed') && !_this.lgBusy) {\r\n                        e.preventDefault();\r\n                        if (!_this.lgBusy) {\r\n                            _this.manageSwipeClass();\r\n                            startCoords = {\r\n                                pageX: e.pageX,\r\n                                pageY: e.pageY,\r\n                            };\r\n                            isDraging = true;\r\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                            _this.outer.get().scrollLeft += 1;\r\n                            _this.outer.get().scrollLeft -= 1;\r\n                            // *\r\n                            _this.outer\r\n                                .removeClass('lg-grab')\r\n                                .addClass('lg-grabbing');\r\n                            _this.LGel.trigger(lGEvents.dragStart);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            $LG(window).on(\"mousemove.lg.global\" + this.lgId, function (e) {\r\n                if (isDraging && _this.lgOpened) {\r\n                    isMoved = true;\r\n                    endCoords = {\r\n                        pageX: e.pageX,\r\n                        pageY: e.pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords);\r\n                    _this.LGel.trigger(lGEvents.dragMove);\r\n                }\r\n            });\r\n            $LG(window).on(\"mouseup.lg.global\" + this.lgId, function (event) {\r\n                if (!_this.lgOpened) {\r\n                    return;\r\n                }\r\n                var target = $LG(event.target);\r\n                if (isMoved) {\r\n                    isMoved = false;\r\n                    _this.touchEnd(endCoords, startCoords, event);\r\n                    _this.LGel.trigger(lGEvents.dragEnd);\r\n                }\r\n                else if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n                // Prevent execution on click\r\n                if (isDraging) {\r\n                    isDraging = false;\r\n                    _this.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.triggerPosterClick = function () {\r\n        var _this = this;\r\n        this.$inner.on('click.lg', function (event) {\r\n            if (!_this.dragOrSwipeEnabled &&\r\n                _this.isPosterElement($LG(event.target))) {\r\n                _this.LGel.trigger(lGEvents.posterClick);\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageSwipeClass = function () {\r\n        var _touchNext = this.index + 1;\r\n        var _touchPrev = this.index - 1;\r\n        if (this.settings.loop && this.galleryItems.length > 2) {\r\n            if (this.index === 0) {\r\n                _touchPrev = this.galleryItems.length - 1;\r\n            }\r\n            else if (this.index === this.galleryItems.length - 1) {\r\n                _touchNext = 0;\r\n            }\r\n        }\r\n        this.outer.find('.lg-item').removeClass('lg-next-slide lg-prev-slide');\r\n        if (_touchPrev > -1) {\r\n            this.getSlideItem(_touchPrev).addClass('lg-prev-slide');\r\n        }\r\n        this.getSlideItem(_touchNext).addClass('lg-next-slide');\r\n    };\r\n    /**\r\n     * Go to next slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.goToNextSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.goToNextSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index + 1 < this.galleryItems.length) {\r\n                this.index++;\r\n                this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                    index: this.index,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'next');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = 0;\r\n                    this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                        index: this.index,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'next');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-right-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-right-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Go to previous slides\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery({});\r\n     *  plugin.goToPrevSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     *\r\n     */\r\n    LightGallery.prototype.goToPrevSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index > 0) {\r\n                this.index--;\r\n                this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                    index: this.index,\r\n                    fromTouch: fromTouch,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'prev');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = this.galleryItems.length - 1;\r\n                    this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                        index: this.index,\r\n                        fromTouch: fromTouch,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'prev');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-left-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-left-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.keyPress = function () {\r\n        var _this = this;\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (_this.lgOpened &&\r\n                _this.settings.escKey === true &&\r\n                e.keyCode === 27) {\r\n                e.preventDefault();\r\n                if (_this.settings.allowMediaOverlap &&\r\n                    _this.outer.hasClass('lg-can-toggle') &&\r\n                    _this.outer.hasClass('lg-components-open')) {\r\n                    _this.outer.removeClass('lg-components-open');\r\n                }\r\n                else {\r\n                    _this.closeGallery();\r\n                }\r\n            }\r\n            if (_this.lgOpened && _this.galleryItems.length > 1) {\r\n                if (e.keyCode === 37) {\r\n                    e.preventDefault();\r\n                    _this.goToPrevSlide();\r\n                }\r\n                if (e.keyCode === 39) {\r\n                    e.preventDefault();\r\n                    _this.goToNextSlide();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.arrow = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-prev').on('click.lg', function () {\r\n            _this.goToPrevSlide();\r\n        });\r\n        this.getElementById('lg-next').on('click.lg', function () {\r\n            _this.goToNextSlide();\r\n        });\r\n    };\r\n    LightGallery.prototype.arrowDisable = function (index) {\r\n        // Disable arrows if settings.hideControlOnEnd is true\r\n        if (!this.settings.loop && this.settings.hideControlOnEnd) {\r\n            var $prev = this.getElementById('lg-prev');\r\n            var $next = this.getElementById('lg-next');\r\n            if (index + 1 === this.galleryItems.length) {\r\n                $next.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $next.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n            if (index === 0) {\r\n                $prev.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $prev.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.setTranslate = function ($el, xValue, yValue, scaleX, scaleY) {\r\n        if (scaleX === void 0) { scaleX = 1; }\r\n        if (scaleY === void 0) { scaleY = 1; }\r\n        $el.css('transform', 'translate3d(' +\r\n            xValue +\r\n            'px, ' +\r\n            yValue +\r\n            'px, 0px) scale3d(' +\r\n            scaleX +\r\n            ', ' +\r\n            scaleY +\r\n            ', 1)');\r\n    };\r\n    LightGallery.prototype.mousewheel = function () {\r\n        var _this = this;\r\n        var lastCall = 0;\r\n        this.outer.on('wheel.lg', function (e) {\r\n            if (!e.deltaY || _this.galleryItems.length < 2) {\r\n                return;\r\n            }\r\n            e.preventDefault();\r\n            var now = new Date().getTime();\r\n            if (now - lastCall < 1000) {\r\n                return;\r\n            }\r\n            lastCall = now;\r\n            if (e.deltaY > 0) {\r\n                _this.goToNextSlide();\r\n            }\r\n            else if (e.deltaY < 0) {\r\n                _this.goToPrevSlide();\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.isSlideElement = function (target) {\r\n        return (target.hasClass('lg-outer') ||\r\n            target.hasClass('lg-item') ||\r\n            target.hasClass('lg-img-wrap'));\r\n    };\r\n    LightGallery.prototype.isPosterElement = function (target) {\r\n        var playButton = this.getSlideItem(this.index)\r\n            .find('.lg-video-play-button')\r\n            .get();\r\n        return (target.hasClass('lg-video-poster') ||\r\n            target.hasClass('lg-video-play-button') ||\r\n            (playButton && playButton.contains(target.get())));\r\n    };\r\n    /**\r\n     * Maximize minimize inline gallery.\r\n     * @category lGPublicMethods\r\n     */\r\n    LightGallery.prototype.toggleMaximize = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-maximize').on('click.lg', function () {\r\n            _this.$container.toggleClass('lg-inline');\r\n            _this.refreshOnResize();\r\n        });\r\n    };\r\n    LightGallery.prototype.invalidateItems = function () {\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            var element = this.items[index];\r\n            var $element = $LG(element);\r\n            $element.off(\"click.lgcustom-item-\" + $element.attr('data-lg-id'));\r\n        }\r\n    };\r\n    LightGallery.prototype.trapFocus = function () {\r\n        var _this = this;\r\n        this.$container.get().focus({\r\n            preventScroll: true,\r\n        });\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (!_this.lgOpened) {\r\n                return;\r\n            }\r\n            var isTabPressed = e.key === 'Tab' || e.keyCode === 9;\r\n            if (!isTabPressed) {\r\n                return;\r\n            }\r\n            var focusableEls = utils.getFocusableElements(_this.$container.get());\r\n            var firstFocusableEl = focusableEls[0];\r\n            var lastFocusableEl = focusableEls[focusableEls.length - 1];\r\n            if (e.shiftKey) {\r\n                if (document.activeElement === firstFocusableEl) {\r\n                    lastFocusableEl.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n            else {\r\n                if (document.activeElement === lastFocusableEl) {\r\n                    firstFocusableEl.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageCloseGallery = function () {\r\n        var _this = this;\r\n        if (!this.settings.closable)\r\n            return;\r\n        var mousedown = false;\r\n        this.getElementById('lg-close').on('click.lg', function () {\r\n            _this.closeGallery();\r\n        });\r\n        if (this.settings.closeOnTap) {\r\n            // If you drag the slide and release outside gallery gets close on chrome\r\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target)) {\r\n                    mousedown = true;\r\n                }\r\n                else {\r\n                    mousedown = false;\r\n                }\r\n            });\r\n            this.outer.on('mousemove.lg', function () {\r\n                mousedown = false;\r\n            });\r\n            this.outer.on('mouseup.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target) && mousedown) {\r\n                    if (!_this.outer.hasClass('lg-dragging')) {\r\n                        _this.closeGallery();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Close lightGallery if it is opened.\r\n     *\r\n     * @description If closable is false in the settings, you need to pass true via closeGallery method to force close gallery\r\n     * @return returns the estimated time to close gallery completely including the close animation duration\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.closeGallery();\r\n     *\r\n     */\r\n    LightGallery.prototype.closeGallery = function (force) {\r\n        var _this = this;\r\n        if (!this.lgOpened || (!this.settings.closable && !force)) {\r\n            return 0;\r\n        }\r\n        this.LGel.trigger(lGEvents.beforeClose);\r\n        if (this.settings.resetScrollPosition && !this.settings.hideScrollbar) {\r\n            $LG(window).scrollTop(this.prevScrollTop);\r\n        }\r\n        var currentItem = this.items[this.index];\r\n        var transform;\r\n        if (this.zoomFromOrigin && currentItem) {\r\n            var _a = this.mediaContainerPosition, top_4 = _a.top, bottom = _a.bottom;\r\n            var _b = this.galleryItems[this.index], __slideVideoInfo = _b.__slideVideoInfo, poster = _b.poster;\r\n            var imageSize = utils.getSize(currentItem, this.outer, top_4 + bottom, __slideVideoInfo && poster && this.settings.videoMaxSize);\r\n            transform = utils.getTransform(currentItem, this.outer, top_4, bottom, imageSize);\r\n        }\r\n        if (this.zoomFromOrigin && transform) {\r\n            this.outer.addClass('lg-closing lg-zoom-from-image');\r\n            this.getSlideItem(this.index)\r\n                .addClass('lg-start-end-progress')\r\n                .css('transition-duration', this.settings.startAnimationDuration + 'ms')\r\n                .css('transform', transform);\r\n        }\r\n        else {\r\n            this.outer.addClass('lg-hide-items');\r\n            // lg-zoom-from-image is used for setting the opacity to 1 if zoomFromOrigin is true\r\n            // If the closing item doesn't have the lg-size attribute, remove this class to avoid the closing css conflicts\r\n            this.outer.removeClass('lg-zoom-from-image');\r\n        }\r\n        // Unbind all events added by lightGallery\r\n        // @todo\r\n        //this.$el.off('.lg.tm');\r\n        this.destroyModules();\r\n        this.lGalleryOn = false;\r\n        this.isDummyImageRemoved = false;\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        clearTimeout(this.hideBarTimeout);\r\n        this.hideBarTimeout = false;\r\n        $LG('html').removeClass('lg-on');\r\n        this.outer.removeClass('lg-visible lg-components-open');\r\n        // Resetting opacity to 0 isd required as  vertical swipe to close function adds inline opacity.\r\n        this.$backdrop.removeClass('in').css('opacity', 0);\r\n        var removeTimeout = this.zoomFromOrigin && transform\r\n            ? Math.max(this.settings.startAnimationDuration, this.settings.backdropDuration)\r\n            : this.settings.backdropDuration;\r\n        this.$container.removeClass('lg-show-in');\r\n        // Once the closign animation is completed and gallery is invisible\r\n        setTimeout(function () {\r\n            if (_this.zoomFromOrigin && transform) {\r\n                _this.outer.removeClass('lg-zoom-from-image');\r\n            }\r\n            _this.$container.removeClass('lg-show');\r\n            // Reset scrollbar\r\n            _this.resetScrollBar();\r\n            // Need to remove inline opacity as it is used in the stylesheet as well\r\n            _this.$backdrop\r\n                .removeAttr('style')\r\n                .css('transition-duration', _this.settings.backdropDuration + 'ms');\r\n            _this.outer.removeClass(\"lg-closing \" + _this.settings.startClass);\r\n            _this.getSlideItem(_this.index).removeClass('lg-start-end-progress');\r\n            _this.$inner.empty();\r\n            if (_this.lgOpened) {\r\n                _this.LGel.trigger(lGEvents.afterClose, {\r\n                    instance: _this,\r\n                });\r\n            }\r\n            if (_this.$container.get()) {\r\n                _this.$container.get().blur();\r\n            }\r\n            _this.lgOpened = false;\r\n        }, removeTimeout + 100);\r\n        return removeTimeout + 100;\r\n    };\r\n    LightGallery.prototype.initModules = function () {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                module.init();\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly initiated\");\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.destroyModules = function (destroy) {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                if (destroy) {\r\n                    module.destroy();\r\n                }\r\n                else {\r\n                    module.closeGallery && module.closeGallery();\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly destroyed\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Refresh lightGallery with new set of children.\r\n     *\r\n     * @description This is useful to update the gallery when the child elements are changed without calling destroy method.\r\n     *\r\n     * If you are using dynamic mode, you can pass the modified array of dynamicEl as the first parameter to refresh the dynamic gallery\r\n     * @see <a href=\"/demos/dynamic-mode/\">Demo</a>\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // Delete or add children, then call\r\n     *  plugin.refresh();\r\n     *\r\n     */\r\n    LightGallery.prototype.refresh = function (galleryItems) {\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        if (galleryItems) {\r\n            this.galleryItems = galleryItems;\r\n        }\r\n        else {\r\n            this.galleryItems = this.getItems();\r\n        }\r\n        this.updateControls();\r\n        this.openGalleryOnItemClick();\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    LightGallery.prototype.updateControls = function () {\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.updateCounterTotal();\r\n        this.manageSingleSlideClassName();\r\n    };\r\n    LightGallery.prototype.destroyGallery = function () {\r\n        this.destroyModules(true);\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        $LG(window).off(\".lg.global\" + this.lgId);\r\n        this.LGel.off('.lg');\r\n        this.$container.remove();\r\n    };\r\n    /**\r\n     * Destroy lightGallery.\r\n     * Destroy lightGallery and its plugin instances completely\r\n     *\r\n     * @description This method also calls CloseGallery function internally. Returns the time takes to completely close and destroy the instance.\r\n     * In case if you want to re-initialize lightGallery right after destroying it, initialize it only once the destroy process is completed.\r\n     * You can use refresh method most of the times.\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.destroy();\r\n     *\r\n     */\r\n    LightGallery.prototype.destroy = function () {\r\n        var closeTimeout = this.closeGallery(true);\r\n        if (closeTimeout) {\r\n            setTimeout(this.destroyGallery.bind(this), closeTimeout);\r\n        }\r\n        else {\r\n            this.destroyGallery();\r\n        }\r\n        return closeTimeout;\r\n    };\r\n    return LightGallery;\r\n}());\n\nfunction lightGallery(el, options) {\r\n    return new LightGallery(el, options);\r\n}\n\nexport default lightGallery;\n//# sourceMappingURL=lightgallery.es5.js.map\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","lGEvents","lightGalleryCoreSettings","mode","easing","speed","licenseKey","height","width","addClass","startClass","backdropDuration","container","startAnimationDuration","zoomFromOrigin","hideBarsDelay","showBarsAfter","slideDelay","supportLegacyBrowser","allowMediaOverlap","videoMaxSize","loadYouTubePoster","defaultCaptionHeight","ariaLabelledby","ariaDescribedby","resetScrollPosition","hideScrollbar","closable","swipeToClose","closeOnTap","showCloseIcon","showMaximizeIcon","loop","escKey","keyPress","trapFocus","controls","slideEndAnimation","hideControlOnEnd","mousewheel","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","numberOfSlideItemsInDom","selector","selectWithin","nextHtml","prevHtml","index","iframeWidth","iframeHeight","iframeMaxWidth","iframeMaxHeight","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","extraProps","exThumbImage","isMobile","undefined","mobileSettings","plugins","strings","closeGallery","toggleMaximize","previousSlide","nextSlide","playVideo","mediaLoadingFailed","lgQuery","cssVenderPrefixes","_getSelector","firstElement","_getFirstEl","generateUUID","replace","c","r","Math","random","toString","context","document","substring","querySelector","querySelectorAll","_each","func","forEach","_setCssVendorPrefix","el","cssProperty","value","property","group1","toUpperCase","indexOf","style","charAt","toLowerCase","slice","isEventMatched","event","eventName","eventNamespace","split","filter","e","every","attr","getAttribute","setAttribute","find","$LG","first","eq","parent","parentElement","get","removeAttr","attributes","attrs","removeAttribute","wrap","className","wrapper","createElement","parentNode","insertBefore","removeChild","appendChild","classNames","classList","add","removeClass","remove","hasClass","contains","hasAttribute","attribute","toggleClass","css","_this","on","events","listener","Array","isArray","eventListeners","push","addEventListener","once","off","keys","removeEventListener","trigger","detail","customEvent","CustomEvent","dispatchEvent","load","url","fetch","then","res","text","html","innerHTML","append","insertAdjacentHTML","prepend","empty","scrollTop","body","documentElement","window","pageYOffset","scrollLeft","pageXOffset","offset","left","top","rect","getBoundingClientRect","bodyMarginLeft","marginLeft","parseFloat","currentStyle","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","params","bubbles","cancelable","evt","createEvent","initCustomEvent","Element","matches","msMatchesSelector","webkitMatchesSelector","defaultDynamicOptions","convertToData","g","utils","spacing","defaultLgSize","lgSize","isResponsiveSizes","wWidth","innerWidth","size_1","parseInt","size","cWidth","cHeight","maxWidth","min","maxHeight","ratio","bottom","imageSize","LGel","containerRect","wHeight","elWidth","elHeight","elStyle","x","borderLeft","y","borderTop","src","altAttr","srcset","sizes","sources","imgMarkup","sourceTag","JSON","parse","map","source","key","lgId","LightGallery","element","options","lgOpened","lGalleryOn","lgBusy","currentItemsInDom","prevScrollTop","bodyPaddingRight","isDummyImageRemoved","dragOrSwipeEnabled","mediaContainerPosition","generateSettings","buildModules","settings","galleryItems","getItems","normalizeSettings","init","validateLicense","test","navigator","userAgent","addSlideVideoInfo","buildStructure","instance","setTimeout","triggerPosterClick","arrow","openGalleryOnItemClick","_loop_1","this_1","items","$element","uuid","preventDefault","currentItemIndex","openGallery","plugin","console","warn","error","getSlideItem","getSlideItemId","getIdName","id","getElementById","manageSingleSlideClassName","outer","$container","subHtmlCont","addClasses","containerClassName","closeIcon","maximizeIcon","template","$lgComponents","$backdrop","$inner","$content","$toolbar","outerClassNames","refreshOnResize","hideBars","manageCloseGallery","initModules","__slideVideoInfo","getMediaContainerPosition","_a","top_1","currentImageSize","resizeVideoSlide","imgStyle","getDummyImgStyles","lgVideoStyle","getVideoContStyle","updateSlides","currentSrc","updateControls","_index","some","galleryItem","itemIndex","organizeSlideItems","loadContent","updateCurrentCounter","children","dynamicElements","availableDynamicOptions","il","k","a","j","jl","__spreadArrays","item","specified","dynamicAttr","name","label","currentItem","alt","title","thumb","subHtml","shouldHideScrollbar","bodyRect","scrollbarWidth","resetScrollBar","itemsToBeInsertedToDom","getItemsToBeInsertedToDom","addHtml","transform","setMediaContainerPosition","timeout","currentSlide_1","slide","captionHeight","thumbContainer","clearTimeout","hideBarTimeout","initPictureFill","$img","picturefill","elements","counterHtml","subHtmlUrl","fL","currentSlide","getDummyImageContent","$currentSlide","$currentItem","_dummyImgSrc","dummyImgContent","setImgMarkup","currentGalleryItem","isFirstSlideWithZoomAnimation","onSlideObjectLoad","$slide","isHTML5VideoWithoutPoster","onLoad","onError","img","mediaObject","complete","naturalWidth","onLgObjectLoad","delay","isFirstSlide","triggerSlideItemLoad","_speed","getSlideType","poster","isHTML5VIdeo","html5","youtube","match","vimeo","wistia","video","rec","_html5Video","responsive","srcDyItms","srcItms","rsWidth","rsSrc","_src","splice","videoInfo","iframe","top_2","videoSize","markup","iframeTitle","dummyImg","_poster","videoContStyle","playVideoString","_isVideo","html5Video","hasPoster","loadContentOnFirstSlideLoad","prevIndex","numberOfItems","possibleNumberOfItems","max","prevIndexItem","_element","idx","numberOfExistingItems","getPreviousSlideIndex","currentItemId","setDownloadValue","downloadUrl","$download","makeSlideAnimation","direction","currentSlideItem","previousSlideItem","fromTouch","fromThumb","numberOfGalleryItems","previousSlideItem_1","top_3","arrowDisable","touchPrev","touchNext","updateCounterTotal","touchMove","startCoords","endCoords","distanceX","pageX","distanceY","pageY","allowSwipe","swipeDirection","abs","setTranslate","offsetWidth","gutter","opacity","innerHeight","scale","touchEnd","distance","triggerClick","distanceAbs","goToNextSlide","goToPrevSlide","target","isPosterElement","isMoved","isSwiping","$item","touches","touchAction","manageSwipeClass","isDraging","_touchNext","_touchPrev","_loop","keyCode","$prev","$next","$el","xValue","yValue","scaleX","scaleY","lastCall","deltaY","now","Date","getTime","isSlideElement","playButton","invalidateItems","focus","preventScroll","focusableEls","display","visibility","firstFocusableEl","lastFocusableEl","shiftKey","activeElement","mousedown","force","top_4","_b","destroyModules","removeTimeout","blur","module","err","destroy","refresh","destroyGallery","closeTimeout","bind"],"sourceRoot":""}